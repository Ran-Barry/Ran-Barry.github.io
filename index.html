<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hello">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Hello">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Ran-Barry">
<meta name="twitter:card" content="summary">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>Hello</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hello</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">记录学习等</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/Sublime-Text3-Markdown%E6%8F%92%E4%BB%B6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/Sublime-Text3-Markdown%E6%8F%92%E4%BB%B6/" itemprop="url">Sublime Text3 Markdown插件</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-13T22:26:09+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" itemprop="url" rel="index">
                    <span itemprop="name">软件安装</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Markdown插件安装"><a href="#Markdown插件安装" class="headerlink" title="Markdown插件安装"></a>Markdown插件安装</h3><table>
<thead>
<tr>
<th>插件</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>MarkdownEditing</td>
<td>一个提高Sublime中Markdown编辑特性的插件</td>
</tr>
<tr>
<td>MarkdownPreview</td>
<td>Markdown转HTML，提供在浏览器中的预览功能</td>
</tr>
<tr>
<td>MarkdownLivePreview</td>
<td>提供在编辑框中实时预览的功能</td>
</tr>
<tr>
<td>LiveReload</td>
<td>一个提供md/html等文档的实时刷新预览的插件</td>
</tr>
</tbody></table>
<h4 id="MarkdownEditing"><a href="#MarkdownEditing" class="headerlink" title="MarkdownEditing"></a>MarkdownEditing</h4><h5 id="功能："><a href="#功能：" class="headerlink" title="功能："></a>功能：</h5><p>可以高亮显示Markdown语法还支持很多编程语言的语法高亮显示。</p>
<p><strong>特别注意</strong>：MarkdownEditing只针对 md\mdown\mmd\txt 格式文件才启用。</p>
<h5 id="效果图："><a href="#效果图：" class="headerlink" title="效果图："></a>效果图：</h5><p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/Sublime%E6%8F%92%E4%BB%B6/01.png" alt="2c15bc4a4995c73ffedb34f232b4af24.png"></p>
<h4 id="安装报错解决："><a href="#安装报错解决：" class="headerlink" title="安装报错解决："></a>安装报错解决：</h4><p>报错问题<br><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/Sublime%E6%8F%92%E4%BB%B6/02.png" alt="65ed9cb9ead31696bfbf1192852fa61b.png"></p>
<h5 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h5><p>./Data/Local/ 清理掉<br>Session.sublime_session<br>Auto Save Session.sublime_session</p>
<p>去Local文件夹里删除掉这两个文件，我的只有第一个，删除后重启就可以。</p>
<h4 id="MarkdownLivePreview"><a href="#MarkdownLivePreview" class="headerlink" title="MarkdownLivePreview"></a>MarkdownLivePreview</h4><h5 id="功能：-1"><a href="#功能：-1" class="headerlink" title="功能："></a>功能：</h5><p>实时预览Markdown文件，左侧为md文件，右侧为预览结果。</p>
<h5 id="使用："><a href="#使用：" class="headerlink" title="使用："></a>使用：</h5><p>MarkdownLivePreview默认关闭实时预览，既然安装这个插件了，那肯定是要用的。打开方式为在Preferences -&gt; Package Settings -&gt; MarkdownLivePreview -&gt; Settings 的设置的右侧加一条 “markdown_live_preview_on_open”: true,，重启sublime即可。</p>
<p>为什么不能直接将左侧对应的false改为true，这是因为左侧为默认配置，是不能改的（只读），右侧的编辑区才是用户自定义区。</p>
<h5 id="效果图：-1"><a href="#效果图：-1" class="headerlink" title="效果图："></a>效果图：</h5><p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/Sublime%E6%8F%92%E4%BB%B6/03.png" alt="219e1ca6d2f5d2d1ac54fa50e086acb3.png"></p>
<p>但是预览效果并不是很好，不能横向滚动。推荐下面插件。</p>
<h5 id="MarkdownPreview"><a href="#MarkdownPreview" class="headerlink" title="MarkdownPreview"></a>MarkdownPreview</h5><h6 id="将md文件用浏览器预览——1-常规方法"><a href="#将md文件用浏览器预览——1-常规方法" class="headerlink" title="将md文件用浏览器预览——1.常规方法"></a>将md文件用浏览器预览——1.常规方法</h6><p>1 组合键 Ctrl+Shift+P 调出命令面板</p>
<p>2 输入mdp找到并选中Markdown Preview： Preview in Browser</p>
<p>3 出现两个选项：github和markdown。任选其一即可，github是利用GitHub的在线API来解析.md文件，支持在线资源的预览，如在线图片它的解析速度取决于你的联网速度。该方式据说一天只能打开60次。markdown就是传统的本地打开，不支持在线资源的预览。</p>
<p>4 默认浏览器中显示预览结果</p>
<h6 id="将md文件用浏览器预览——2-用快捷键打开"><a href="#将md文件用浏览器预览——2-用快捷键打开" class="headerlink" title="将md文件用浏览器预览——2.用快捷键打开"></a>将md文件用浏览器预览——2.用快捷键打开</h6><p>Sublime Text支持自定义快捷键，Markdown </p>
<p>Preview默认没有快捷键，我们可以自己为Markdown Preview： Preview in Browser设置快捷键。</p>
<p>方法是在Preferences -&gt; Key Bindings打开的文件的右侧栏的中括号中添加一行代码：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123; </span><br><span class="line">    <span class="attr">"keys"</span>: [<span class="string">"alt+m"</span>],  </span><br><span class="line">    <span class="attr">"command"</span>:<span class="string">"markdown_preview"</span>,</span><br><span class="line">    <span class="attr">"args"</span>: </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">"target"</span>: <span class="string">"browser"</span>,      </span><br><span class="line">            <span class="attr">"parser"</span>:<span class="string">"markdown"</span></span><br><span class="line">        &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这里：</p>
<blockquote>
<p>“alt+m” 可设置为自己喜欢的按键。”parser”: “markdown”也可设置为”parser”:”github”，改为使用Github在线API解析markdown</p>
</blockquote>
<p>以上两种方式都有个问题：每次预览都要打开一个新的网页，而且需要手动操作。有没有一个方法，可以打开一个网页后，之后再也不用管，让它实时刷新预览呢？</p>
<p>有，还很简单，答案就是MarkdownPreview+LiveReload！<br>LiveReload是一个可实时刷新的插件，不仅可用于Markdown，也可用于HTML等。</p>
<h5 id="最强）实时自动刷新预览：MarkdownPreview-LiveReload"><a href="#最强）实时自动刷新预览：MarkdownPreview-LiveReload" class="headerlink" title="(最强）实时自动刷新预览：MarkdownPreview+LiveReload"></a>(最强）实时自动刷新预览：MarkdownPreview+LiveReload</h5><p><strong>先安装并配置Markdown Preview</strong></p>
<p>如前Markdown Preview安装成功后，设置前文所述的快捷键（如需），打开其配置文件 Preferences -&gt; Package Settings -&gt; Markdown Preview -&gt; Settings，检查左侧enable_autoreload条目是否为true，若是，跳过。若不是，右侧栏加一条下面这个后重启Sublime:</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"enable_autoreload"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>安装并配置LiveReload</strong></p>
<p>Ctrl+Shift+p, 输入 Install Package，输入LiveReload, 回车安装</p>
<p>安装成功后, 再次Ctrl+shift+p, 输入LiveReload: Enable/disable plug-ins, 回车, 选择 Simple Reload with delay (400ms)或者Simple Reload，两者的区别仅仅在于后者没有延迟。</p>
<p><strong>开始使用</strong></p>
<p>原文链接：<a href="https://blog.csdn.net/qq_20011607/article/details/81370236" target="_blank" rel="noopener">https://blog.csdn.net/qq_20011607/article/details/81370236</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/DES%E7%AE%97%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/DES%E7%AE%97%E6%B3%95/" itemprop="url">DES算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-13T21:37:58+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AE%97%E6%B3%95/" itemprop="url" rel="index">
                    <span itemprop="name">算法</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="DES算法详解"><a href="#DES算法详解" class="headerlink" title="DES算法详解"></a>DES算法详解</h4><h5 id="算法简介"><a href="#算法简介" class="headerlink" title="算法简介"></a>算法简介</h5><p>DES是一个分组加密算法，典型的DES以64位为分组数据加密，加密和解密用的是同一算法。<br>它的密钥长度是56比特。尽管从规格上来说，DES的密钥长度是64比特，但由于每个7比特会设置一个用于错误检验的比特，因此实质上其密钥长度是56比特。</p>
<p>算法流程：<br><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/01.png" alt="9090bbfe6a422c74e42749050102f862.png"></p>
<h5 id="明文初始置换（IP初始置换）"><a href="#明文初始置换（IP初始置换）" class="headerlink" title="明文初始置换（IP初始置换）"></a>明文初始置换（IP初始置换）</h5><p>IP置换目的是将输入的64位明文数据块按位重新组合，并把输出分为L0，R0两部分，每部分各长32位。</p>
<p><strong>注意：这里的数字表示的是原数据的位置，不是数据</strong></p>
<p>置换规则如下表：</p>
<blockquote>
<p>58,50,42,34,26,18,10,2,<br>60,52,44,36,28,20,12,4,<br>62,54,46,38,30,22,14,6,<br>64,56,48,40,32,24,16,8,<br>57,49,41,33,25,17, 9,1,<br>59,51,43,35,27,19,11,3,<br>61,53,45,37,29,21,13,5,<br>63,55,47,39,31,23,15,7,</p>
</blockquote>
<p>即将第58位明文换到第一个位置，第50位明文换到第2位。以此类推。</p>
<p>L0:</p>
<blockquote>
<p>58,50,42,34,26,18,10,2,<br>60,52,44,36,28,20,12,4,<br>62,54,46,38,30,22,14,6,<br>64,56,48,40,32,24,16,8,</p>
</blockquote>
<p>R0:</p>
<blockquote>
<p>57,49,41,33,25,17, 9,1,<br>59,51,43,35,27,19,11,3,<br>61,53,45,37,29,21,13,5,<br>63,55,47,39,31,23,15,7,</p>
</blockquote>
<h5 id="密钥初始置换"><a href="#密钥初始置换" class="headerlink" title="密钥初始置换"></a>密钥初始置换</h5><p><strong>操作对象是64位秘钥</strong></p>
<p>不考虑每个字节的第8位，DES的密钥由64位减至56位，每个字节的第8位作为奇偶校验位。产生的56位密钥由下表生成（注意表中没有8，16，24，32，40，48，56和64这8位）：</p>
<p><strong>注意：这里的数字表示的是原数据的位置，不是数据</strong></p>
<p>C0:</p>
<blockquote>
<p>57,49,41,33,25,17,9<br>1,58,50,42,34,26,18<br>10,2,59,51,43,35,27<br>19,11,3,60,52,44,36</p>
</blockquote>
<p>D0:</p>
<blockquote>
<p>63,55,47,39,31,23,15<br>7,62,54,46,38,30,22<br>14,6,61,53,45,37,29<br>21,13,5,28,20,12,4</p>
</blockquote>
<h5 id="生成16个48位的子密钥"><a href="#生成16个48位的子密钥" class="headerlink" title="生成16个48位的子密钥"></a>生成16个48位的子密钥</h5><p>在DES的每一轮中，从56位密钥产生出不同的48子密钥，确定这些子密钥的方式如下：</p>
<p>1）将56位密钥分成两部分，每部分28位。</p>
<p>2）根据轮数，这两部分分别循环左移1位或2位。每轮移动的位数如下表：</p>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/02.png" alt="15b5906b4985620fae91c07441373fd3.png"></p>
<h6 id="第一轮循环左移1位"><a href="#第一轮循环左移1位" class="headerlink" title="第一轮循环左移1位"></a>第一轮循环左移1位</h6><p>C1:</p>
<blockquote>
<p>49,41,33,25,17,9,1<br>58,50,42,34,26,18,10<br>2,59,51,43,35,27,19<br>11,3,60,52,44,36,57</p>
</blockquote>
<p>D1:</p>
<blockquote>
<p>55,47,39,31,23,15,7,<br>62,54,46,38,30,22,14,<br>6,61,53,45,37,29,21,<br>13,5,28,20,12,4,63</p>
</blockquote>
<p>以此类推，根据每轮移动的位数，得到16组新密钥。</p>
<p>然后通过置换2表得出16个48位子密钥。</p>
<p><strong>置换表2</strong></p>
<blockquote>
<p>14,17,11,24,1,5<br>3,28,15,6,21,10<br>23,19,12,4,26,8<br>16,7,27,20,13,2<br>41,52,31,37,47,55<br>30,40,51,45,33,48<br>44.,49,39,56,34,53<br>46,42,50,36,29,32</p>
</blockquote>
<h5 id="明文扩展置换"><a href="#明文扩展置换" class="headerlink" title="明文扩展置换"></a>明文扩展置换</h5><p>输入明文右侧32位，最后变为48位。</p>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/03.png" alt="ca8801b6152ca8f712914df35f077989.png"></p>
<p>扩展规则如下：</p>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/04.png" alt="39726d21a7ff43ec18c06d4d8f3c2bd7.png"></p>
<blockquote>
<p>32,1,2,3,4,5,<br>4,5,6,7,8,9,<br>8,9,10,11,12,13,<br>12,13,14,15,16,17,<br>16,17,18,19,20,21,<br>20,21,22,23,24,25,<br>24,25,26,27,28,29,<br>28,29,30,31,32,1</p>
</blockquote>
<h5 id="S盒替代"><a href="#S盒替代" class="headerlink" title="S盒替代"></a>S盒替代</h5><p>压缩后的密钥与扩展分组异或以后得到48位的数据，将这个数据送入S盒，进行替代运算。替代由8个不同的S盒完成，每个S盒有6位输入4位输出。48位输入分为8个6位的分组，一个分组对应一个S盒，对应的S盒对各组进行代替操作。</p>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/05.png" alt="130b775c24f796bf9a930d813808389b.png"></p>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/06.png" alt="734d32e5dad6ee761f501b0703cc5e6d.png"></p>
<p>一个S盒就是一个4行16列的表，盒中的每一项都是一个4位的数。S盒的6个输入确定了其对应的输出在哪一行哪一列，输入的高低两位做为行数H，中间四位做为列数L，在S-BOX中查找第H行L列对应的数据(&lt;32)。</p>
<h6 id="8个S盒"><a href="#8个S盒" class="headerlink" title="8个S盒"></a>8个S盒</h6><p><strong>S盒1：</strong></p>
<blockquote>
<p>14,4,13,1,2,15,11,8,3,10,6,12,5,9,0,7,<br>0,15,7,4,14,2,13,1,10,6,12,11,9,5,3,8,<br>4,1,14,8,13,6,2,11,15,12,9,7,3,10,5,0,<br>15,12,8,2,4,9,1,7,5,11,3,14,10,0,6,13,</p>
</blockquote>
<p><strong>S盒2：</strong></p>
<blockquote>
<p>15,1,8,14,6,11,3,4,9,7,2,13,12,0,5,10,<br>3,13,4,7,15,2,8,14,12,0,1,10,6,9,11,5,<br>0,14,7,11,10,4,13,1,5,8,12,6,9,3,2,15,<br>13,8,10,1,3,15,4,2,11,6,7,12,0,5,14,9,</p>
</blockquote>
<p><strong>S盒3：</strong></p>
<blockquote>
<p>10,0,9,14,6,3,15,5,1,13,12,7,11,4,2,8,<br>13,7,0,9,3,4,6,10,2,8,5,14,12,11,15,1,<br>13,6,4,9,8,15,3,0,11,1,2,12,5,10,14,7,<br>1,10,13,0,6,9,8,7,4,15,14,3,11,5,2,12,</p>
</blockquote>
<p><strong>S盒4：</strong></p>
<blockquote>
<p>7,13,14,3,0,6,9,10,1,2,8,5,11,12,4,15,<br>13,8,11,5,6,15,0,3,4,7,2,12,1,10,14,9,<br>10,6,9,0,12,11,7,13,15,1,3,14,5,2,8,4,<br>3,15,0,6,10,1,13,8,9,4,5,11,12,7,2,14,</p>
</blockquote>
<p><strong>S盒5：</strong></p>
<blockquote>
<p>2,12,4,1,7,10,11,6,8,5,3,15,13,0,14,9,<br>14,11,2,12,4,7,13,1,5,0,15,10,3,9,8,6,<br>4,2,1,11,10,13,7,8,15,9,12,5,6,3,0,14,<br>11,8,12,7,1,14,2,13,6,15,0,9,10,4,5,3,</p>
</blockquote>
<p><strong>S盒6：</strong></p>
<blockquote>
<p>12,1,10,15,9,2,6,8,0,13,3,4,14,7,5,11,<br>10,15,4,2,7,12,9,5,6,1,13,14,0,11,3,8,<br>9,14,15,5,2,8,12,3,7,0,4,10,1,13,11,6,<br>4,3,2,12,9,5,15,10,11,14,1,7,6,0,8,13,</p>
</blockquote>
<p><strong>S盒7：</strong></p>
<blockquote>
<p>4,11,2,14,15,0,8,13,3,12,9,7,5,10,6,1,<br>13,0,11,7,4,9,1,10,14,3,5,12,2,15,8,6,<br>1,4,11,13,12,3,7,14,10,15,6,8,0,5,9,2,<br>6,11,13,8,1,4,10,7,9,5,0,15,14,2,3,12,</p>
</blockquote>
<p><strong>S盒8：</strong></p>
<blockquote>
<p>13,2,8,4,6,15,11,1,10,9,3,14,5,0,12,7,<br>1,15,13,8,10,3,7,4,12,5,6,11,0,14,9,2,<br>7,11,4,1,9,12,14,2,0,6,10,13,15,3,5,8,<br>2,1,14,7,4,10,8,13,15,12,9,0,3,5,6,11,</p>
</blockquote>
<p><img src="../images/%E7%AE%97%E6%B3%95/DES%E7%AE%97%E6%B3%95/07.png" alt="5c79891ddb9cda188777b0475500e3ab.png"></p>
<p>例如，假设S盒8的输入为110011，第1位和第6位组合为11，对应于S盒8的第3行；第2位到第5位为1001，对应于S盒8的第9列。S盒8的第3行第9列的数字为12，因此用1100来代替110011。注意，S盒的行列计数都是从0开始。</p>
<p>代替过程产生8个4位的分组，组合在一起形成32位数据。</p>
<p>S盒代替是DES算法的关键步骤，所有的其他的运算都是线性的，易于分析，而S盒是非线性的，相比于其他步骤，提供了更好安全性。</p>
<h5 id="P盒置换"><a href="#P盒置换" class="headerlink" title="P盒置换"></a>P盒置换</h5><p>S盒代替运算的32位输出按照P盒进行置换。该置换把输入的每位映射到输出位，任何一位不能被映射两次，也不能被略去，映射规则如下表：</p>
<blockquote>
<p>16,7,20,21,29,12,28,17,1,15,23,26,5,18,31,10,<br>2,8,24,14,32,27,3,9,19,13,30,6,22,11,4,25,</p>
</blockquote>
<p>表中的数字代表原数据中此位置的数据在新数据中的位置，即原数据块的第16位放到新数据的第1位，第7位放到第2位，……依此类推，第25位放到第32位。</p>
<p>最后，P盒置换的结果与最初的64位分组左半部分L0异或，然后左、右半部分交换，接着开始另一轮</p>
<h5 id="末置换"><a href="#末置换" class="headerlink" title="末置换"></a>末置换</h5><p>末置换是初始置换的逆过程，DES最后一轮后，左、右两半部分并未进行交换，而是两部分合并形成一个分组做为末置换的输入。末置换规则如下：</p>
<blockquote>
<p>40,8,48,16,56,24,64,32,39,7,47,15,55,23,63,31,<br>38,6,46,14,54,22,62,30,37,5,45,13,53,21,61,29,<br>36,4,44,12,52,20,60,28,35,3,43,11,51,19,59,27,<br>34,2,42,10,50,18,58,26,33,1,41,9,49,17,57,25,</p>
</blockquote>
<h5 id="DES的解密"><a href="#DES的解密" class="headerlink" title="DES的解密"></a>DES的解密</h5><p>加密和解密可以使用相同的算法。加密和解密唯一不同的是秘钥的次序是相反的。就是说如果每一轮的加密秘钥分别是K1、K2、K3…K16，那么解密秘钥就是K16、K15、K14…K1。为每一轮产生秘钥的算法也是循环的。加密是秘钥循环左移，解密是秘钥循环右移。解密秘钥每次移动的位数是：0、1、2、2、2、2、2、2、1、2、2、2、2、2、2、1。</p>
<p>本文参考链接：<br>原文链接：<a href="https://blog.csdn.net/qq_27570955/article/details/52442092" target="_blank" rel="noopener">https://blog.csdn.net/qq_27570955/article/details/52442092</a><br><a href="https://www.cnblogs.com/songwenlong/p/5944139.html" target="_blank" rel="noopener">https://www.cnblogs.com/songwenlong/p/5944139.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/13/Sublime-Text3-%E9%85%8D%E7%BD%AEpyhon%E7%8E%AF%E5%A2%83/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/13/Sublime-Text3-%E9%85%8D%E7%BD%AEpyhon%E7%8E%AF%E5%A2%83/" itemprop="url">Sublime Text3 配置pyhon环境</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-13T09:23:28+08:00">
                2020-03-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" itemprop="url" rel="index">
                    <span itemprop="name">软件安装</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Sublime-Text3配置python环境"><a href="#Sublime-Text3配置python环境" class="headerlink" title="Sublime Text3配置python环境"></a>Sublime Text3配置python环境</h4><p>安装参考以前文章，下面说配置</p>
<p>打开安装好的 sublime text 3，选择编译环境</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython01.png" alt="0e3b5e9cfb36e436416f187edb061fd0.png"></p>
<p>然后输入</p>
<blockquote>
<p>print(“你好”)</p>
</blockquote>
<p>然后保存为.py后缀文件</p>
<p>回到主界面，Ctrl+B运行</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython02.png" alt="89d3fe035435cc1dc56fff80ffd225fc.png"></p>
<p>中文成功输出，证明配置好了，但还需要按一个插件来支持 input</p>
<p>安装SublimeREPL插件，使Sublime支持input</p>
<p>安装好，试着调用。</p>
<figure class="highlight isbl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">num</span> = <span class="function"><span class="title">input</span>(<span class="string">"今天几月几日:"</span>)</span></span><br><span class="line"><span class="function"><span class="title">print</span>(<span class="variable">num</span>)</span></span><br></pre></td></tr></table></figure>

<p>跟 Ctrl+B 直接编译不同，利用插件来编译需要先手动 Ctrl+S 保存</p>
<p><strong>常规调用：</strong></p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython03.png" alt="69d5a1b9e9dfe5c1aff1d2e1e1775f36.png"></p>
<p>然后弹出一个新的框，进行输入输出。</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython04.png" alt="fbe8fc6a38764b3605c069357dafdf37.png"></p>
<p><strong>设置快捷键调用：</strong></p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython05.png" alt="ded30527af9e541ca4cf0e79bf907cf2.png"></p>
<p>左边是系统默认设置，我们在右边窗口输入以下设置（另一个 Alt + End 是终止编译的快捷键），Ctrl+S 保存</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython06.png" alt="bc715187792b855d583c10db6cc44403.png"></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[ </span><br><span class="line">    &#123; </span><br><span class="line">        <span class="attr">"keys"</span>: [<span class="string">"f4"</span>], </span><br><span class="line">        <span class="attr">"caption"</span>: <span class="string">"SublimeREPL: Python - RUN current file"</span>, </span><br><span class="line">        <span class="attr">"command"</span>: <span class="string">"run_existing_windoww_command"</span>, </span><br><span class="line">        <span class="attr">"args"</span>: &#123; </span><br><span class="line">            <span class="attr">"id"</span>: <span class="string">"repl_python_run"</span>, </span><br><span class="line">            <span class="attr">"file"</span>: <span class="string">"config/Python/Main.sublime-menu"</span></span><br><span class="line">        &#125; </span><br><span class="line">    &#125;,</span><br><span class="line">        &#123; </span><br><span class="line">            <span class="attr">"keys"</span>: [<span class="string">"alt+end"</span>], </span><br><span class="line">            <span class="attr">"command"</span>: <span class="string">"exec"</span>, </span><br><span class="line">            <span class="attr">"args"</span>: &#123;<span class="attr">"kill"</span>: <span class="literal">true</span>&#125; </span><br><span class="line">        &#125; </span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<p>切换不方便，可以打开两个视图：</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimePython/SublimePython07.png" alt="c33682bb046be44ffbe99139d83ea249.png"></p>
<p>本文参考：<br>链接：<a href="https://www.zhihu.com/question/22904994/answer/800236870" target="_blank" rel="noopener">https://www.zhihu.com/question/22904994/answer/800236870</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/03/12/Sublime-Text3-Install/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/03/12/Sublime-Text3-Install/" itemprop="url">Sublime Text3 Install</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-03-12T22:29:12+08:00">
                2020-03-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/" itemprop="url" rel="index">
                    <span itemprop="name">软件安装</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Sublime-Text3-安装教程"><a href="#Sublime-Text3-安装教程" class="headerlink" title="Sublime Text3 安装教程"></a>Sublime Text3 安装教程</h3><h4 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h4><p>去官网下载：<a href="http://www.sublimetext.cn/" target="_blank" rel="noopener">http://www.sublimetext.cn/</a></p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimeInstall/Sublime01.png" alt="a48170e3051da81b40ba956fe85ac553.png"></p>
<p>用IDM会很慢，可以复制下载链接，用迅雷下载，3秒下载完毕。</p>
<p>下载完毕，双击安装。选择”Add to explorer context menu”.</p>
<h4 id="安装package-control插件"><a href="#安装package-control插件" class="headerlink" title="安装package control插件"></a>安装package control插件</h4><p>这是安装sublime的重点。</p>
<p>手动安装：<br>1 点击<br><a href="https://github.com/wbond/package_control" target="_blank" rel="noopener">https://github.com/wbond/package_control</a>去github下载Package Control安装报下载到本地，下载的文件名为：<br>package_control-master.zip。解压后将文件名改为Package Control；</p>
<p>2.打开Sublime的Preferences -&gt; Browse Packages菜单，将上面改好名字的Package Control文件夹复制过去,重启就会发现package control。</p>
<p><img src="../images/%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85/Sublime/SublimeInstall/Sublime02.png" alt="be3d5a2e4efd21446517b576426ee60c.png"></p>
<p>3.但是你会发现你点击package control后Install Package不成功，There are no packages available for installation的提示。</p>
<p>失败原因为官网地址被墙，导致channel_v3文件无法访问。</p>
<p>解决方法：点击Preferences——&gt;Package Settings——&gt;Package Control——&gt;Settings - User，</p>
<p>打开配置文件添加地址：</p>
<figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"channels"</span>:</span><br><span class="line">[<span class="meta"></span></span><br><span class="line"><span class="meta"><span class="meta-string">"https://github.com/JavenZ/channel_v3/raw/master/channel_v3.json"</span></span></span><br><span class="line"><span class="meta"></span>],</span><br></pre></td></tr></table></figure>

<p>以下两个地址任选一</p>
<p>GitHub地址：<a href="https://github.com/JavenZ/channel_v3/raw/master/channel_v3.json" target="_blank" rel="noopener">https://github.com/JavenZ/channel_v3/raw/master/channel_v3.json</a></p>
<p>国内地址：<a href="https://attachments-cdn.shimo.im/OykO0AIRnX0aeB4d/channel_v3.json" target="_blank" rel="noopener">https://attachments-cdn.shimo.im/OykO0AIRnX0aeB4d/channel_v3.json</a></p>
<p>以上json文件引用地址由简书作者Javen_01（知乎ID孙悟菜）提供，如果地址失效可以去他的GitHub查看最新地址。</p>
<p>下载完就可以下载插件。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/18/14-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/18/14-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E5%85%A5%E9%97%A8/" itemprop="url">14.网络编程入门</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-18T21:43:26+08:00">
                2020-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="计算机网络基础"><a href="#计算机网络基础" class="headerlink" title="计算机网络基础"></a>计算机网络基础</h1><h3 id="TCP-IP模型"><a href="#TCP-IP模型" class="headerlink" title="TCP/IP模型"></a>TCP/IP模型</h3><p>实现网络通信的基础是网络通信协议，这些协议通常是由互联网工程任务组（IETF）制定的。所谓“协议”就是通信计算机双方必须共同遵从的一组约定，例如怎样建立连接，怎样相互识别等，网络协议的三要素是：语法、语义和时序。构成我们今天使用的Inter的基础的是TCP/IP协议族，协议族就是一系列的协议及其构成的通信模型，也把这套东西称为TCP/IP模型。与国际标准化组织发布的OSI/RM这个七层模型不同，TCP/IP是一个四层模型，自顶向上依次是：网络接口层、网络层、传输层和应用层。如下图所示。</p>
<p><img src="../images/Python-100days/TCP-IP-model.png" alt></p>
<p>IP通常被翻译为网际协议，它服务于网络层，主要实现了寻址和路由的功能。接入网络的每一台主机都需要有自己的IP地址，IP地址就是主机在计算机网络上的身份标识。当然由于IPv4地址的匮乏，我们平常在家里、办公室以及其他可以接入网络的公共区域上网时获得的IP地址并不是全球唯一的IP地址，而是一个区域网中的内部IP地址，通过网络地址转换服务我们也可以实现对网络的访问。计算机网络上有大量的我们称为“路由器”的网络中继设备，它们会存储转发我们发送到网络上的数据分组，让从源头发出的数据最终能够找到传送目的的地通路，这项功能就是所谓的路由。</p>
<p>TCP全称传输控制协议，它是基于IP提供的寻址和路由器服务而建立起来的负责实现端到端可靠传输的协议，之所以将TCP称为可靠的传输协议是因为TCP想调用者承诺了三件事情：</p>
<ul>
<li>数据不传丢不传错（利用握手、校验和重传机制可以实现）。</li>
<li>流量控制（通过滑动窗口匹配数据发送者和接收着之间的传输速度）。</li>
<li>拥塞控制（通过RTT时间以及对滑动窗口的控制缓解网络拥堵）。</li>
</ul>
<h3 id="网络应用模式"><a href="#网络应用模式" class="headerlink" title="网络应用模式"></a>网络应用模式</h3><ol>
<li>C/S模式和B/S模式。C指Client（客户端），通常是一个需要安装到某个宿主操作系统上的应用程序；B指Brower（浏览器），它几乎是所有图形化操作系统都默认安装了的一个应用软件；通过C或B都可以实现对S（服务器）的访问。</li>
<li>去中心化的网络应用模式。不管是B/S还是C/S都需要服务器的存在，服务器就是整个应用模式的中心，而去中心化的网络应用通常没有固定的服务器或者固定的客户端，所有应用的使用者既可以作为资源的提供者也可以作为资源的访问者。</li>
</ol>
<h2 id="基于HTTP协议的网络资源的访问"><a href="#基于HTTP协议的网络资源的访问" class="headerlink" title="基于HTTP协议的网络资源的访问"></a>基于HTTP协议的网络资源的访问</h2><h3 id="HTTP（超文本传输协议）"><a href="#HTTP（超文本传输协议）" class="headerlink" title="HTTP（超文本传输协议）"></a>HTTP（超文本传输协议）</h3><p>HTTP是超文本传输协议（Hyper-Text Transfer Proctol）的简称。维基百科解释为：超文本协议是一种用于分布式、协作式和超媒体信息系统的应用层协议，它是万维网数据通信的基础，设计HTTP最初的目的是为了提供一种发布和接收HTML页面的方法，通过HTTP或者HTTPS（超文本传输安全协议）请求的资源由URI（统一资源标识符）来标识。阮一峰老师的<a href="http://www.ruanyifeng.com/blog/2016/08/http.html" target="_blank" rel="noopener">《HTTP协议入门》</a></p>
<h3 id="JSON格式"><a href="#JSON格式" class="headerlink" title="JSON格式"></a>JSON格式</h3><p>JSON（JavaScript Object Notation）是一种轻量级的数据交换语言，该语言以易于阅读的文字（纯文本）为基础，用来传输由属性值或者序列性的值组成的数据对象。尽管JSON是最初只是JavaScript中一种创建对象的字面量语法，但它在当下更是一种独立于语言的数据格式，很多编程语言都支持JSON格式数据的生成和解析，Python内置的json模块也提供了这方面功能。由于JSON是纯文本，它和XML一样都适用于异构系统之间的数据交换，而相较于XML，JSON显得更加的轻便和优雅。下面是表达同样信息的XML和JSON，而JSON的优势是相当直观的。</p>
<p>XML的例子：</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">message</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">from</span>&gt;</span>Alice<span class="tag">&lt;/<span class="name">from</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">to</span>&gt;</span>Bob<span class="tag">&lt;/<span class="name">to</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">content</span>&gt;</span>Will you marry me?<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">message</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JSON的例子：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"from"</span>: <span class="string">"Alice"</span>,</span><br><span class="line">    <span class="attr">"to"</span>: <span class="string">"Bob"</span>,</span><br><span class="line">    <span class="attr">"content"</span>: <span class="string">"Will you marry me?"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="requests库"><a href="#requests库" class="headerlink" title="requests库"></a>requests库</h3><p>requests是一个基于HTTP协议来使用网络的第三库，其官方网站有这样的一句介绍它的话：“Requests是唯一的一个非转基因的Python HTTP库，人类可以安全享用。”简单的说，使用requests库可以非常方便的使用HTTP，避免安全缺陷、冗余代码以及“重复发明轮子”（行业黑话，通常用在软件工程领域表示重新创造一个已有的或是早已被优化過的基本方法）。前面的文章中我们已经使用过这个库，下面我们还是通过requests来实现一个访问网络数据接口并从中获取美女图片下载链接然后下载美女图片到本地的例子程序，程序中使用了天行数据提供的网络API。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span>  Thread</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="comment"># 继承Thread类创建自定义的线程类：</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DownloadHanlder</span><span class="params">(Thread)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,url)</span>:</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.url = url</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">        filename = self.url[self.url.rfind(<span class="string">'/'</span>)+<span class="number">1</span>:]</span><br><span class="line">        resp = requests.get(self.url)</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'/Users/Hao'</span> + filename,<span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">            f.write(resp.content)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 通过requests模块的get函数获取网络资源</span></span><br><span class="line">    <span class="comment"># 下面的代码中使用了天行数据借口提供的网络API</span></span><br><span class="line">    <span class="comment"># 要使用该数据借口需要在天行数据的网站上注册</span></span><br><span class="line">    <span class="comment"># 然后用自己的Key替换掉下面代码中APIKey即可</span></span><br><span class="line">    resp = requests.get(<span class="string">'http://api.tinanapi.com/meinv/?key=APIKey&amp;num=10'</span>)</span><br><span class="line">    <span class="comment"># 将服务器返回的JSON格式的数据解析为字典</span></span><br><span class="line">    data_model = resp.json()</span><br><span class="line">    <span class="keyword">for</span> mm_dict <span class="keyword">in</span> data_model[<span class="string">'newslist'</span>]:</span><br><span class="line">        url = mm_dict(<span class="string">'picUrl'</span>)</span><br><span class="line">        <span class="comment"># 通过多线程的方式实现图片下载</span></span><br><span class="line">        DownloadHanlder(url).start()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<h2 id="基于传输层协议的套接字编程"><a href="#基于传输层协议的套接字编程" class="headerlink" title="基于传输层协议的套接字编程"></a>基于传输层协议的套接字编程</h2><p>套接字是一套c语言写成的应用程序开发库，主要用于实现进程间通信和网路编程。实际开发使用套接字分为三类：流套接字（TCP套接字）、数据报套接字和原始套接字。</p>
<h3 id="TCP套接字"><a href="#TCP套接字" class="headerlink" title="TCP套接字"></a>TCP套接字</h3><p>TCP套接字就是使用TCP协议提供的传输服务来实现网络通信的编程接口。<br>下面代码实现一个提供日期的服务器</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket import socket,SOCK_STREAM,AF_INET</span><br><span class="line"><span class="keyword">from</span> datetime import datetime</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    # 1.创建套接字对象并指定使用哪种传输服务</span><br><span class="line">    # family = AF_INET - IPv4地址</span><br><span class="line">    # family = AF_INET5 - IPv6地址</span><br><span class="line">    #<span class="built_in"> type </span>= SOCK_STREAM - TCP套接字</span><br><span class="line">    #<span class="built_in"> type </span>= SOCK_DGRAM - UDP套接字</span><br><span class="line">    #<span class="built_in"> type </span>= SOCK_RAW - 原始套接字</span><br><span class="line">   <span class="built_in"> server </span>= socket(<span class="attribute">family</span>=AF_INET,type=SOCK_STREAM)</span><br><span class="line">    # 2.绑定IP地址和端口（端口用于区分不同的服务器）</span><br><span class="line">    # 同一时间在同一个端口上只能绑定一个服务否则报错</span><br><span class="line">    server.bind(<span class="string">'192.168.1.2'</span>,6789)</span><br><span class="line">    # 3.开启监听 - 监听客户端连接到服务器</span><br><span class="line">    # 参数512可以理解为连接队列的大小</span><br><span class="line">    server.listen(512)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        # 4.通过循环接收客户端的连接并作出相应的处理（提供服务）</span><br><span class="line">        # accept方法是一个阻塞方法如果没有客户端连接到服务器代码不会向下执行</span><br><span class="line">        # accept方法返回一个元组其中的第一个元素是客户端对象</span><br><span class="line">        # 第二个元素是连接到服务器的客户端的地址(由IP和端口两部分构成)</span><br><span class="line">        client,addr = server.accept()</span><br><span class="line">        <span class="builtin-name">print</span>(str(addr) + <span class="string">'连接到了服务器.'</span>)</span><br><span class="line">        # 5.发送数据</span><br><span class="line">        client.send(str(datetime.now()).encode(<span class="string">'utf-8'</span>))</span><br><span class="line">        # 6.断开连接</span><br><span class="line">        client.close()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/18/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/18/13.%E8%BF%9B%E7%A8%8B%E5%92%8C%E7%BA%BF%E7%A8%8B/" itemprop="url">13.进程和线程</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-18T21:41:09+08:00">
                2020-02-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><p>进程就是操作系统中执行的一个程序，操作系统以进程为单位分配存储空间，每个进程都有自己的地址空间、数据栈以及其他用于跟踪进程执行的辅助数据，操作系统管理所有进程的执行，为它们合理的分配资源。进程可以通过fork或spawn的方式来创建新的进程来执行其他的任务，不过新的进程也有自己独立的内存空间，因此必须通过进程间通信机制（IPC，Inter-Process Communication）来实现数据共享，具体的方式包括管道、信号、套接字、共享内存区等。<br>一个进程还可以拥有多个并发的执行线索，简单的说就是拥有多个可以获得CPU调度的执行单元，这就是所谓的线程。由于线程在同一个进程下，它们可以共享相同的上下文，因此对于进程而言，线程间的信息共享和通信更加容易。当然在单核DDPU系统中，真正的并发是不可能的，因为<strong>在某个时刻能够获得CPU的只有唯一的一个线程，多个线程共享了CPU的执行时间</strong>。使用多线程实现并发编程为程序带来的好处是不言而喻的，最主要的体现是提升程序的性能和改善用户体验。</p>
<h2 id="Python中的多进程"><a href="#Python中的多进程" class="headerlink" title="Python中的多进程"></a>Python中的多进程</h2><p>Unix和Linux操作系统上提供了fork()系统调用来创建进程，调用fork()函数的是父进程，创建出的是子进程，子进程是父进程的一个拷贝，但是子进程拥有自己的PID。fork()函数非常特殊，它会返回两次，父进程中可以通过fork()函数的返回值得到子进程的PID，而子进程中的返回值永远都是0.Python的OS模块提供了fork()函数。由于Windows系统没有fork()调用，因此要实现跨平台的多进程编程，可以使用multiprocessing模块的Process类来创建子进程，而且该模块还提供了更高级的封装，例如批量启动进程的进程池（Pool）、用于进程间通信的队列（Queue）和管道（Pipe）等。</p>
<figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">from</span> random import randint</span><br><span class="line"><span class="meta">from</span> time import time,sleep</span><br><span class="line"></span><br><span class="line">def download_task(<span class="meta">filename</span>):</span><br><span class="line">    p<span class="meta">rint(</span><span class="string">'开始下载%s...'</span> % <span class="meta">filename</span>)</span><br><span class="line">    time_to_download = ran<span class="meta">dint(</span>5,10)</span><br><span class="line">    sleep(time_to_download)</span><br><span class="line">    p<span class="meta">rint(</span><span class="string">'%s下载完成！耗费了%d秒'</span> % (<span class="meta">filename</span>,time_to_download))</span><br><span class="line"></span><br><span class="line">def ma<span class="meta">in(</span>):</span><br><span class="line">    start =<span class="meta"> time(</span>)</span><br><span class="line">    download_task(<span class="string">'Python从入门到住院.pdf'</span>)</span><br><span class="line">    download_task(<span class="string">'Peking Hot.avi'</span>)</span><br><span class="line">    <span class="meta">end</span> =<span class="meta"> time(</span>)</span><br><span class="line">    p<span class="meta">rint(</span><span class="string">'总共耗费了%.2f秒.'</span> % (<span class="meta">end</span>-start))</span><br><span class="line"></span><br><span class="line"><span class="meta">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    ma<span class="meta">in(</span>)</span><br></pre></td></tr></table></figure>
<p>这个例子可以得出，如果程序中的代码只能按顺序一点点的往下执行，那么即使执行两个互不相关的下载任务，也需要先等待一个文件下载完成后才能开始下一个下载任务。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> multiprocessing <span class="keyword">import</span> Process</span><br><span class="line"><span class="keyword">from</span> os <span class="keyword">import</span> getpgid</span><br><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> <span class="type">time</span> <span class="keyword">import</span> <span class="type">time</span>,sleep</span><br><span class="line"></span><br><span class="line">def download_task(filename):</span><br><span class="line">    print(<span class="string">'启动下载进程，进程号[%d].'</span> % getpid())</span><br><span class="line">    print(<span class="string">'开始下载%s...'</span> % filename)</span><br><span class="line">    time_to_download = randint(<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line">    sleep(time_to_download)</span><br><span class="line">    print(<span class="string">'%s下载完成！耗费了%d秒'</span> % (filename,time_to_download))</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    start = <span class="type">time</span>()</span><br><span class="line">    p1 = Process(target=download_task,args=(<span class="string">'Python从入门到住院.pdf'</span>))</span><br><span class="line">    p1.<span class="keyword">start</span>()</span><br><span class="line">    p2 = Process(target=download_task,args=(<span class="string">'Peking Hot.avi'</span>))</span><br><span class="line">    p2.<span class="keyword">start</span>()</span><br><span class="line">    p1.<span class="keyword">join</span>()</span><br><span class="line">    p2.<span class="keyword">join</span>()</span><br><span class="line">    end = <span class="type">time</span>()</span><br><span class="line">    print(<span class="string">'总共耗费了%.2f秒.'</span> % (<span class="keyword">end</span>-<span class="keyword">start</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>上面通过Process类创建了进程对象，通过target参数传入一个函数表示进程启动后要执行的代码，后面args是一个元祖，代表传递给函数的参数。Process和start方法用来启动进程，而join方法表示等待进程执行结束。两个任务同时启动了。</p>
<p>也可以使用subprocess模块中的类和函数来创建和启动子进程，然后通过管道来和子进程通讯</p>
<h2 id="Python中的多线程"><a href="#Python中的多线程" class="headerlink" title="Python中的多线程"></a>Python中的多线程</h2><p>Python通过thread模块（现在名为_thread）来实现多线程编程，该模块过于底层，而且很多功能都没有提供，推荐threading模块，该模块对多线程编程提供了更好的面对对象的封装。</p>
<figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="keyword">from</span> <span class="type">time</span> <span class="keyword">import</span> <span class="type">time</span>,sleep</span><br><span class="line"></span><br><span class="line">def download(filename):</span><br><span class="line">    print(<span class="string">'开始下载%s...'</span> % filename)</span><br><span class="line">    time_to_download = randint(<span class="number">5</span>,<span class="number">10</span>)</span><br><span class="line">    sleep(time_to_download)</span><br><span class="line">    print(<span class="string">'%s下载完成！耗费%d秒'</span> % (filename,time_to_download))</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    start = <span class="type">time</span>()</span><br><span class="line">    t1 = Thread(target=download,args=(<span class="string">'Python从入门到住院.pdf'</span>))</span><br><span class="line">    t1.<span class="keyword">start</span>()</span><br><span class="line">    t2 = Thread(target=download,args=(<span class="string">'Peking Hot.avi'</span>,))</span><br><span class="line">    t2.<span class="keyword">start</span>()</span><br><span class="line">    t1.<span class="keyword">join</span>()</span><br><span class="line">    t2.<span class="keyword">join</span>()</span><br><span class="line">    end = <span class="type">time</span>()</span><br><span class="line">    print(<span class="string">'总共耗费了%.3f秒'</span> % (<span class="keyword">end</span>-<span class="keyword">start</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>直接使用threading模块的Thread类来创建进程，但是我们之前讲过一个非常重要的概念叫“继承”，我们可以从已有的类创建类，因此可以通过继承Thread类的方式来创建自定义的线程类，然后再创建线程对象并启动线程。</p>
<figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="title">from</span> random <span class="keyword">import</span> randint</span><br><span class="line"><span class="title">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"><span class="title">from</span> time <span class="keyword">import</span> time,sleep</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="type">DownloadTask</span>(<span class="type">Thread</span>):</span></span><br><span class="line"><span class="class">    def __init__(<span class="title">self</span>, <span class="title">filename</span>):</span></span><br><span class="line"><span class="class">        super().__init__()</span></span><br><span class="line"><span class="class">        self._filename = filename</span></span><br><span class="line"><span class="class">    </span></span><br><span class="line"><span class="class">    def run(<span class="title">self</span>):</span></span><br><span class="line"><span class="class">        print('开始下载%<span class="title">s</span>...' % <span class="title">self</span>.<span class="title">_filename</span>)</span></span><br><span class="line"><span class="class">        time_to_download = randint(5,10)</span></span><br><span class="line"><span class="class">        sleep(<span class="title">time_to_download</span>)</span></span><br><span class="line"><span class="class">        print('%<span class="title">s</span>下载完成！耗费%<span class="title">d</span>秒' % (<span class="title">self</span>.<span class="title">_filename</span>,<span class="title">time_to_download</span>))</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">def main():</span></span><br><span class="line"><span class="class">    start = time()</span></span><br><span class="line"><span class="class">    t1 = <span class="type">DownloadTask</span>('<span class="type">Python</span>从入门到住院.<span class="title">pdf'</span>)</span></span><br><span class="line"><span class="class">    t1.start()</span></span><br><span class="line"><span class="class">    t2 = <span class="type">DownloadTask</span>('<span class="type">Peking</span> <span class="type">Hot</span>.<span class="title">avi'</span>)</span></span><br><span class="line"><span class="class">    t2.start()</span></span><br><span class="line"><span class="class">    t1.join()</span></span><br><span class="line"><span class="class">    t2.join()</span></span><br><span class="line"><span class="class">    end = time()</span></span><br><span class="line"><span class="class">    print('总共耗费了%.2<span class="title">f</span>秒' % (<span class="title">end</span>-<span class="title">start</span>))</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">if __name__ == '__main__':</span></span><br><span class="line"><span class="class">    main()</span></span><br></pre></td></tr></table></figure>
<p>多个线程可以共享进程的内存空间，要实现多个线程间的通信相对简单，设置一个全局变量，多个线程共享这个全局变量即可。但是当多个线程共享同一个变量（称之为资源）的时候，很有可能产生不可控的结果导致程序失效甚至崩溃。如果一个资源被多个线程竞争使用，通常称之为“临界资源”，对“临界资源”的访问需要加上保护，否则资源会处于“混乱”状态。</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">from time import sleep</span><br><span class="line">from threading import Thread,Lock</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span>(<span class="title">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>._balance = <span class="number">0</span></span><br><span class="line">        <span class="keyword">self</span>._lock = Lock() <span class="comment">#加锁保护对银行账户的操作</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deposit</span><span class="params">(<span class="keyword">self</span>,money)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>._lock.acquire()</span><br><span class="line">        <span class="symbol">try:</span></span><br><span class="line">            <span class="comment"># 计算存款后的余额</span></span><br><span class="line">            new_balance = <span class="keyword">self</span>._balance + money</span><br><span class="line">            <span class="comment"># 模拟受理存款业务需要0.01秒的时间</span></span><br><span class="line">            sleep(<span class="number">0</span>.<span class="number">01</span>)</span><br><span class="line">            <span class="comment"># 修改账户余额</span></span><br><span class="line">            <span class="keyword">self</span>._balance = new_balance</span><br><span class="line">        <span class="symbol">finally:</span></span><br><span class="line">            <span class="comment"># 在finally中执行释放锁的操作保证正常异常锁都能释放</span></span><br><span class="line">            <span class="keyword">self</span>._lock.release()</span><br><span class="line"></span><br><span class="line">    @property</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">balance</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">self</span>._balance</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AddMoneyThread</span>(<span class="title">Thread</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(<span class="keyword">self</span>,account,money)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">super</span>().__init_<span class="number">_</span>()</span><br><span class="line">        <span class="keyword">self</span>._account = account</span><br><span class="line">        <span class="keyword">self</span>._money = money</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(<span class="keyword">self</span>)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="keyword">self</span>._account.deposit(<span class="keyword">self</span>._money)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    account = Account()</span><br><span class="line">    threads = []</span><br><span class="line">    <span class="comment"># 创建100个存款的线程向同一个账户存钱</span></span><br><span class="line">    <span class="keyword">for</span> <span class="number">_</span> <span class="keyword">in</span> range(<span class="number">100</span>)<span class="symbol">:</span></span><br><span class="line">        t = AddMoneyThread(account,<span class="number">1</span>)</span><br><span class="line">        threads.append(t)</span><br><span class="line">        t.start()</span><br><span class="line">    <span class="comment"># 等所有存款的线程都执行完毕</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> <span class="symbol">threads:</span></span><br><span class="line">        t.join()</span><br><span class="line">    print(<span class="string">'账户余额为：￥%d元'</span> % account.balance)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name_<span class="number">_</span> == <span class="string">'__main__'</span><span class="symbol">:</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="多进程还是多线程"><a href="#多进程还是多线程" class="headerlink" title="多进程还是多线程"></a>多进程还是多线程</h2><p>无论是多进程还是多线程，只要数量一多，效率肯定上不去，为什么呢？我们打个比方，假设你不幸正在准备中考，每天晚上需要做语文、数学、英语、物理、化学这5科的作业，每项作业耗时1小时。如果你先花1小时做语文作业，做完了，再花1小时做数学作业，这样，依次全部做完，一共花5小时，这种方式称为单任务模型。如果你打算切换到多任务模型，可以先做1分钟语文，再切换到数学作业，做1分钟，再切换到英语，以此类推，只要切换速度足够快，这种方式就和单核CPU执行多任务是一样的了，以旁观者的角度来看，你就正在同时写5科作业。</p>
<p>但是，切换作业是有代价的，比如从语文切到数学，要先收拾桌子上的语文书本、钢笔（这叫保存现场），然后，打开数学课本、找出圆规直尺（这叫准备新环境），才能开始做数学作业。操作系统在切换进程或者线程时也是一样的，它需要先保存当前执行的现场环境（CPU寄存器状态、内存页等），然后，把新任务的执行环境准备好（恢复上次的寄存器状态，切换内存页等），才能开始执行。这个切换过程虽然很快，但是也需要耗费时间。如果有几千个任务同时进行，操作系统可能就主要忙着切换任务，根本没有多少时间去执行任务了，这种情况最常见的就是硬盘狂响，点窗口无反应，系统处于假死状态。所以，多任务一旦多到一个限度，反而会使得系统性能急剧下降，最终导致所有任务都做不好。</p>
<p>是否采用多任务的第二个考虑是任务的类型，可以把任务分为计算密集型和I/O密集型。计算密集型任务的特点是要进行大量的计算，消耗CPU资源，比如对视频进行编码解码或者格式转换等等，这种任务全靠CPU的运算能力，虽然也可以用多任务完成，但是任务越多，花在任务切换的时间就越多，CPU执行任务的效率就越低。计算密集型任务由于主要消耗CPU资源，这类任务用Python这样的脚本语言去执行效率通常很低，最能胜任这类任务的是C语言，我们之前提到了Python中有嵌入C/C++代码的机制。</p>
<p>除了计算密集型任务，其他的涉及到网络、存储介质I/O的任务都可以视为I/O密集型任务，这类任务的特点是CPU消耗很少，任务的大部分时间都在等待I/O操作完成（因为I/O的速度远远低于CPU和内存的速度）。对于I/O密集型任务，如果启动多任务，就可以减少I/O等待时间从而让CPU高效率的运转。</p>
<h2 id="单线程-异步I-O"><a href="#单线程-异步I-O" class="headerlink" title="单线程+异步I/O"></a>单线程+异步I/O</h2><p>现代操作系统对I/O操作的改进中最为重要的就是支持异步I/O。如果充分利用操作系统提供的异步I/O支持，就可以用单进程单线程模型来执行多任务，这种全新的模型称为事件驱动模型。Nginx就是支持异步I/O的Web服务器，它在单核CPU上采用单进程模型就可以高效地支持多任务。在多核CPU上，可以运行多个进程（数量与CPU核心数相同），充分利用多核CPU。</p>
<p>在Python语言中，单线程+异步I/O的编程模型称为协程，有了协程的支持，就可以基于事件驱动编写高效的多任务程序。协程最大的优势就是极高的执行效率，因为子程序切换不是线程切换，而是由程序自身控制，因此，没有线程切换的开销。协程的第二个优势就是不需要多线程的锁机制，因为只有一个线程，也不存在同时写变量冲突，在协程中控制共享资源不用加锁，只需要判断状态就好了，所以执行效率比多线程高很多。如果想要充分利用CPU的多核特性，最简单的方法是多进程+协程，既充分利用多核，又充分发挥协程的高效率，可获得极高的性能。</p>
<h3 id="例1：将耗时间的任务放到线程中以获得更好的用户体验"><a href="#例1：将耗时间的任务放到线程中以获得更好的用户体验" class="headerlink" title="例1：将耗时间的任务放到线程中以获得更好的用户体验"></a>例1：将耗时间的任务放到线程中以获得更好的用户体验</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> tkinter</span><br><span class="line"><span class="keyword">import</span> tkinter.messagebox</span><br><span class="line"><span class="keyword">from</span> threading <span class="keyword">import</span> Thread</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">DownloadTaskHandler</span><span class="params">(Thread)</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></span><br><span class="line">            time.sleep(<span class="number">10</span>)</span><br><span class="line">            tkinter.messagebox.showinfo(<span class="string">'提示'</span>,<span class="string">'下载完成！'</span>)</span><br><span class="line">            <span class="comment"># 启用下载按钮</span></span><br><span class="line">            button1.config(state = tkinter.NORMAL)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">download</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="comment"># 禁用下载按钮</span></span><br><span class="line">        button1.config(state = tkinter.DISABLED)</span><br><span class="line">        <span class="comment"># 通过daemon参数将参数设置为守护线程（主程序退出就不再保留执行）</span></span><br><span class="line">        <span class="comment"># 在线程中处理耗时间的下载任务</span></span><br><span class="line">        DownLoadTaskHandler(daemon=<span class="literal">True</span>.start())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_about</span><span class="params">()</span>:</span></span><br><span class="line">        tkinter.messagebox.showinfo(<span class="string">'关于'</span>,<span class="string">'作者：张三'</span>)</span><br><span class="line">    top = tkinter.TK()</span><br><span class="line">    top.title(<span class="string">'单线程'</span>)</span><br><span class="line">    top.geometry(<span class="string">'200×150'</span>)</span><br><span class="line">    top.wm_attributes(<span class="string">'-topmost'</span>,<span class="literal">True</span>)</span><br><span class="line">    panel = tkinter.Frame(top)</span><br><span class="line">    button1 = tkinter.Button(panel,text=<span class="string">'下载'</span>,command=download)</span><br><span class="line">    button1.pack(side=<span class="string">'left'</span>)</span><br><span class="line">    button2 = tkinter.Button(panel,text=<span class="string">'关于'</span>,command=show_about)</span><br><span class="line">    button2.pack(side=<span class="string">'right'</span>)</span><br><span class="line">    panel.pack(side=<span class="string">'bottom'</span>)</span><br><span class="line">    tkinter.mainloop()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h3 id="例2：使用多进程对复杂任务进行“分而治之”"><a href="#例2：使用多进程对复杂任务进行“分而治之”" class="headerlink" title="例2：使用多进程对复杂任务进行“分而治之”"></a>例2：使用多进程对复杂任务进行“分而治之”</h3><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">from</span> multiprocessing import Process,Queue</span><br><span class="line"><span class="meta">from</span> random import randint</span><br><span class="line"><span class="meta">from</span> time import time</span><br><span class="line"></span><br><span class="line">def task_handler(curr_list,result_queue):</span><br><span class="line">    total = 0</span><br><span class="line">    for number <span class="meta">in</span> curr_list:</span><br><span class="line">        total += number</span><br><span class="line">    result_queue<span class="meta">.put(</span>total)</span><br><span class="line">def ma<span class="meta">in(</span>):</span><br><span class="line">    processes = []</span><br><span class="line">    number_lisst = [<span class="meta">x</span> for <span class="meta">x</span> <span class="meta">in</span><span class="meta"> range(</span>1,100000001)]</span><br><span class="line">    result_queue = Queue()</span><br><span class="line">    <span class="meta">index</span> = 0</span><br><span class="line">    # 启动8个进程将数据切片后进行运算</span><br><span class="line">    for _ <span class="meta">in</span><span class="meta"> range(</span>8):</span><br><span class="line">        p = Process(target=task_handler,args=(number_lisst[<span class="meta">index</span>:<span class="meta">index</span>+122500000],result_queue))</span><br><span class="line">        <span class="meta">index</span> += 12500000</span><br><span class="line">        processes.append(p)</span><br><span class="line">        p.start()</span><br><span class="line">    # 开始记录所有进程执行完成花费的时间</span><br><span class="line">    start =<span class="meta"> time(</span>)</span><br><span class="line">    for p <span class="meta">in</span> processes:</span><br><span class="line">        p.jo<span class="meta">in(</span>)</span><br><span class="line">    # 合并执行结果</span><br><span class="line">    total = 0</span><br><span class="line">    <span class="meta">while</span> <span class="meta">not</span> result_queue.empty():</span><br><span class="line">        total += result_queue.get()</span><br><span class="line">    p<span class="meta">rint(</span>total)</span><br><span class="line">    <span class="meta">end</span> =<span class="meta"> time(</span>)</span><br><span class="line">    p<span class="meta">rint(</span><span class="string">'Execution time:'</span>,(<span class="meta">end</span>-start),<span class="string">'s'</span>,sep=<span class="string">''</span>)</span><br><span class="line"><span class="meta">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    ma<span class="meta">in(</span>)</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/13/12-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/13/12-%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%92%8C%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" itemprop="url">12.字符串和正则表达式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-13T19:27:41+08:00">
                2020-02-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><p><a href="https://deerchao.cn/tutorials/regex/regex.htm" target="_blank" rel="noopener">正则表达式30分钟入门</a></p>
<table>
<thead>
<tr>
<th>符号</th>
<th>解释</th>
<th>事例</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>匹配任意字符</td>
<td>b.t</td>
<td>可以匹配bat/but/b#t/b1t等</td>
</tr>
<tr>
<td>\w</td>
<td>匹配字母/数字/下划线</td>
<td>b\wt</td>
<td>可以匹配bat/b1t/b_t等，但不能匹配b#t</td>
</tr>
<tr>
<td>\s</td>
<td>匹配空白字符（包括\r、\n、\t等）</td>
<td>love\syou</td>
<td>可以匹配love you</td>
</tr>
<tr>
<td>\d</td>
<td>匹配数字</td>
<td>\d\d</td>
<td>可以匹配01/23/99等</td>
</tr>
<tr>
<td>^</td>
<td>匹配字符串的开始</td>
<td>^The</td>
<td>可以匹配The开头的字符串</td>
</tr>
<tr>
<td>$</td>
<td>匹配字符串的结束</td>
<td>.exe$</td>
<td>可以匹配.exe结尾的字符串</td>
</tr>
<tr>
<td>\W</td>
<td>匹配非字母/数字/下划线</td>
<td>b\Wt</td>
<td>可以匹配b#t/b@t等 但不能匹配but/b1t/b_t等</td>
</tr>
<tr>
<td>\S</td>
<td>匹配非空白字符</td>
<td>love\Syou</td>
<td>可以匹配Love#you等 但不能匹配love you等</td>
</tr>
<tr>
<td>\D</td>
<td>匹配非数字</td>
<td>\d\D</td>
<td>可以匹配9a/3#/0Fd等</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界</td>
<td>\Bio\B</td>
<td></td>
</tr>
<tr>
<td>[]</td>
<td>匹配来自字符集的任意单一字符</td>
<td>[aeoou]</td>
<td>可以匹配任一原因字母字符</td>
</tr>
<tr>
<td>[^]</td>
<td>匹配不在字符集中的任意单一字符</td>
<td>[^aeiou]</td>
<td>可以匹配任一非元音字母字符</td>
</tr>
<tr>
<td>*</td>
<td>匹配0次或多次</td>
<td>\W*</td>
<td></td>
</tr>
<tr>
<td>+</td>
<td>匹配1次或多次</td>
<td>\W+</td>
<td></td>
</tr>
<tr>
<td>?</td>
<td>匹配0次或1次</td>
<td>\W?</td>
<td></td>
</tr>
<tr>
<td>{N}</td>
<td>匹配N次</td>
<td>\w{3}</td>
<td></td>
</tr>
<tr>
<td>{M,}</td>
<td>匹配至少M次</td>
<td>\w{3,}</td>
<td></td>
</tr>
<tr>
<td>{M,N}</td>
<td>匹配至少M次至多N次</td>
<td>\w{3,6}</td>
<td></td>
</tr>
<tr>
<td>|</td>
<td>分支</td>
<td>foo | bar</td>
<td>可以匹配foo或者bar</td>
</tr>
<tr>
<td>(?#)</td>
<td>注释</td>
<td></td>
<td></td>
</tr>
<tr>
<td>(exp)</td>
<td>匹配exp并捕获到自动命名的组中</td>
<td></td>
<td></td>
</tr>
<tr>
<td>(?&lt;name&gt;exp)</td>
<td>匹配exp并捕获到名为name的组中</td>
<td></td>
<td></td>
</tr>
<tr>
<td>(?:exp)</td>
<td>匹配exp但是不捕获匹配的文本</td>
<td></td>
<td></td>
</tr>
<tr>
<td>(?=exp)</td>
<td>匹配exp前面的位置</td>
<td>\b\w(?=ing)</td>
<td>可以匹配I’m dancing中的danc</td>
</tr>
<tr>
<td>(?&lt;=exp)</td>
<td>匹配exp后面的位置</td>
<td>(?&lt;=\bdanc)\w+\b</td>
<td>可以匹配I love dancing and reading中的第一个ing</td>
</tr>
<tr>
<td>(?!exp)</td>
<td>匹配后面不是exp的位置</td>
<td></td>
<td></td>
</tr>
<tr>
<td>(?&lt;!exp)</td>
<td>匹配前面不是exp的位置</td>
<td></td>
<td></td>
</tr>
<tr>
<td>*?</td>
<td>重复任意次，但尽可能少重复</td>
<td>a.<em>b a.</em>?b</td>
<td>将正则表达式应用与aabab，前者会匹配整个字符串aabab，后者会匹配aab和ab两个字符串</td>
</tr>
<tr>
<td>+?</td>
<td>重复1次或多次，但尽可能少重复</td>
<td></td>
<td></td>
</tr>
<tr>
<td>??</td>
<td>重复0次或1次，但尽可能少重复</td>
<td></td>
<td></td>
</tr>
<tr>
<td>{M,N}?</td>
<td>重复M到N次，但尽可能少重复</td>
<td></td>
<td></td>
</tr>
<tr>
<td>{M,}?</td>
<td>重复M次以上，但尽可能少重复</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<blockquote>
<p>说明：如果需要匹配的字符是正则表达式中的特殊字符，那么可以使用\进行转义处理，例如想匹配小数点可以写成.就可以了，因为直接写.会匹配任意字符；同理，想匹配圆括号必须写成(和)，否则圆括号被视为正则表达式中的分组。</p>
</blockquote>
<h2 id="Python对正则表达式的支持"><a href="#Python对正则表达式的支持" class="headerlink" title="Python对正则表达式的支持"></a>Python对正则表达式的支持</h2><p>Python提供了re模块来支持正则表达式相关操作，下面时re模块中的核心函数</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>conpile(pattern,flags=0)</td>
<td>编译正则表达式返回正则表达式对象</td>
</tr>
<tr>
<td>match(pattern,string,flags=0)</td>
<td>用正则表达式匹配字符串 成功返回匹配对象 否则返回None</td>
</tr>
<tr>
<td>search(pattern,string,flags=0)</td>
<td>搜索字符串中第一次出现正则表达式的模块 成功返回匹配对象 否则返回None</td>
</tr>
<tr>
<td>split(pattern,string,maxsplit=0,flags=0)</td>
<td>用正则表达式指定的模块分隔符拆分字符串 返回列表</td>
</tr>
<tr>
<td>sub(pattern,repl,string,count=0,flags=0)</td>
<td>用指定的字符串替换元字符串中与正则表达式匹配的模式 可以用count指定替换的次数</td>
</tr>
<tr>
<td>fullmatch(pattern,string,flags=0)</td>
<td>match函数的完全匹配（从字符串开始到结尾）版本</td>
</tr>
<tr>
<td>findall(pattern,string,flags=0)</td>
<td>查找字符串所有与正则表达式匹配的模式 返回字符串的列表</td>
</tr>
<tr>
<td>finditer(pattern,string,flags=0)</td>
<td>查找字符串所有与正则表达式匹配的模式 返回一个迭代器</td>
</tr>
<tr>
<td>purge()</td>
<td>清除隐式编译的正则表达式的缓存</td>
</tr>
<tr>
<td>re.l/re.IGNORECASE</td>
<td>忽略大小写匹配标记</td>
</tr>
<tr>
<td>re.M/re.MULTILINE</td>
<td>多行匹配标记</td>
</tr>
</tbody></table>
<blockquote>
<p>说明： 上面提到的re模块中的这些函数，实际开发中也可以用正则表达式对象的方法替代对这些函数的使用，如果一个正则表达式需要重复的使用，那么先通过compile函数编译正则表达式并创建出正则表达式对象无疑是更为明智的选择。</p>
</blockquote>
<h3 id="例1："><a href="#例1：" class="headerlink" title="例1："></a>例1：</h3><p>验证输入用户名和qq号是否有效并给出对应的提示信息<br>要求：用户名必须由字母、数字或下划线构成且长度在6-20个字符之间，qq号是5-12的数字且首位不能为0</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    username = input(<span class="string">'请输入用户名：'</span>)</span><br><span class="line">    qq = input(<span class="string">'请输入qq号：'</span>)</span><br><span class="line">    <span class="comment"># match函数的第一个参数是正则表达式字符串或正则表达式对象</span></span><br><span class="line">    <span class="comment"># 第二个参数是要跟正则表达式做匹配的字符串对象</span></span><br><span class="line">    m1 = re.match(<span class="string">r'^[0-9a-z-A-Z_]&#123;6,20&#125;$'</span>,username)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> m1:</span><br><span class="line">        print(<span class="string">'请输入有效的用户名.'</span>)</span><br><span class="line">    m2 = re.match(<span class="string">r'^[1-9]\d&#123;4,11&#125;$'</span>,qq)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> m2:</span><br><span class="line">        print(<span class="string">'请输入有效的QQ号.'</span>)</span><br><span class="line">    <span class="keyword">if</span> m1 <span class="keyword">and</span> m2:</span><br><span class="line">        print(<span class="string">'你输入的信息是有效的！'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>提示： 上面在书写正则表达式时使用了“原始字符串”的写法（在字符串前面加上了r），<br>所谓“原始字符串”就是字符串中的每个字符都是它原始的意义，说得更直接一点就是字符串中没有所谓的转义字符啦。<br>因为正则表达式中有很多元字符和需要进行转义的地方，如果不使用原始字符串就需要将反斜杠写作\，<br>例如表示数字的\d得书写成\d，这样不仅写起来不方便，阅读的时候也会很吃力。</p>
</blockquote>
<h3 id="例2：从一段文字中提取出国内手机号码"><a href="#例2：从一段文字中提取出国内手机号码" class="headerlink" title="例2：从一段文字中提取出国内手机号码"></a>例2：从一段文字中提取出国内手机号码</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="comment"># 创建正则表达式对象 使用了前瞻和回顾来保证手机号前后不应该出现数字</span></span><br><span class="line">    pattern = re.compile(<span class="string">r'(?&lt;=\D)1[34578]\d&#123;9&#125;(?=\D)'</span>)</span><br><span class="line">    sentence = <span class="string">'重要的事情说8130123456789遍，我的手机号是13512346789这个靓号，不是15600998765，也是110或119，王大锤的手机号才是15600998765。'</span></span><br><span class="line">    <span class="comment"># 查找所有匹配并保存到一个列表中</span></span><br><span class="line">    mylist = re.findall(pattern,sentence)</span><br><span class="line">    print(mylist)</span><br><span class="line">    print(<span class="string">'--------华丽的分割线--------'</span>)</span><br><span class="line">    <span class="comment"># 通过迭代器取出匹配对象并获得匹配的内容</span></span><br><span class="line">    <span class="keyword">for</span> temp <span class="keyword">in</span> pattern.finditer(sentence):</span><br><span class="line">        print(temp.group())</span><br><span class="line">    print(<span class="string">'--------华丽的分割线--------'</span>)</span><br><span class="line">    <span class="comment"># 通过search函数指定搜索位置找出所有的匹配</span></span><br><span class="line">    m = pattern.search(sentence)</span><br><span class="line">    <span class="keyword">while</span> m:</span><br><span class="line">        print(m.group())</span><br><span class="line">        m = pattern.search(sentence,m.end())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h3 id="例3-替换字符串中的不良内容"><a href="#例3-替换字符串中的不良内容" class="headerlink" title="例3 替换字符串中的不良内容"></a>例3 替换字符串中的不良内容</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    sentence = <span class="string">'你丫是傻叉吗？我操你大爷的.Fuck you.'</span></span><br><span class="line">    purified = re.sub(<span class="string">'[操肏艹]|fuck|shit|傻[比屄逼叉缺吊屌]|煞笔'</span>,<span class="string">'*'</span>,sentence,flags=re.IGNORECASE)</span><br><span class="line">    print(purified)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h3 id="例4：拆分长字符串"><a href="#例4：拆分长字符串" class="headerlink" title="例4：拆分长字符串"></a>例4：拆分长字符串</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    poem = <span class="string">'窗前明月光，疑是地上霜。举头望明月，低头思故乡。'</span></span><br><span class="line">    sentence_list = re.split(<span class="string">r'[,。，.]'</span>,poem)</span><br><span class="line">    <span class="keyword">while</span> <span class="string">''</span> <span class="keyword">in</span> sentence_list:</span><br><span class="line">        sentence_list.remove(<span class="string">''</span>)</span><br><span class="line">    print(sentence_list)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/12/11-%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/11-%E6%96%87%E4%BB%B6%E5%92%8C%E5%BC%82%E5%B8%B8/" itemprop="url">11.文件和异常</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T20:43:03+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="11-文件和异常"><a href="#11-文件和异常" class="headerlink" title="11.文件和异常"></a><strong>11.文件和异常</strong></h2><p>在Python中实现文件的读写操作通过内置的open函数，我们可以指定文件名、操作模式、编码信息等来获得操作文件的对象，接下来就可以对文件进行读写操作了。</p>
<p>读写函数：</p>
<table>
<thead>
<tr>
<th>操作模式</th>
<th>具体含义</th>
</tr>
</thead>
<tbody><tr>
<td>‘r’</td>
<td>读取（默认）</td>
</tr>
<tr>
<td>‘w’</td>
<td>写入（会先截断之前的内容）</td>
</tr>
<tr>
<td>‘x’</td>
<td>写入，如果文件已经存在会发生异常</td>
</tr>
<tr>
<td>‘a’</td>
<td>追加，讲内容写入到已有文件的末尾</td>
</tr>
<tr>
<td>‘b’</td>
<td>二进制模式</td>
</tr>
<tr>
<td>‘t’</td>
<td>文本模式（默认）</td>
</tr>
<tr>
<td>‘+’</td>
<td>更新（既可以读又可以写）</td>
</tr>
</tbody></table>
<h2 id="读写文本文件"><a href="#读写文本文件" class="headerlink" title="读写文本文件"></a>读写文本文件</h2><p>读取文本文件时，需要在使用open函数时指定好带路径的文件名（可以使用相对路径或绝对路径）并将文件模式设置为‘r’（如果不指定，默认值也是’r’），然后通过encoding参数指定编码（如果不指定，默认值为None，那么在读取文件时使用的是操作系统默认的编码），如果不能保证保存文件时使用的编码方式与encoding参数指定的编码方式是一致的，那么就可能因无法解码字符而导致读取失败。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    f = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        f = open(<span class="string">'致橡树.txt'</span>,<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">        print(f.read())</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError:</span><br><span class="line">        print(<span class="string">'无法打开指定的文件！'</span>)</span><br><span class="line">    <span class="keyword">except</span> LookupError:</span><br><span class="line">        print(<span class="string">'指定了未知的编码！'</span>)</span><br><span class="line">    <span class="keyword">except</span> UnicodeDecodeError:</span><br><span class="line">        print(<span class="string">'读取文件时解码错误！'</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">if</span> f:</span><br><span class="line">            f.close()</span><br><span class="line"></span><br><span class="line">可以用<span class="keyword">with</span>代替<span class="keyword">finally</span></span><br><span class="line"><span class="comment"># def main():</span></span><br><span class="line"><span class="comment">#     try:</span></span><br><span class="line"><span class="comment">#         with open('致橡树.txt','r',encoding='utf-8') as f:</span></span><br><span class="line"><span class="comment">#             print(f.read())</span></span><br><span class="line"><span class="comment">#     except FileNotFoundError:</span></span><br><span class="line"><span class="comment">#         print('无法打开指定的文件！')</span></span><br><span class="line"><span class="comment">#     except LookupError:</span></span><br><span class="line"><span class="comment">#         print('指定了未知的编码！')</span></span><br><span class="line"><span class="comment">#     except UnicodeDecodeError:</span></span><br><span class="line"><span class="comment">#         print('读取文件时解码错误！')</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p>通过for-in循环逐行读取或者用readline方法将文件按行读取到一个列表容器：</p>
<figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import <span class="built_in">time</span></span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    <span class="comment"># 一次性读取整个文件内容</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">'致橡树.txt'</span>,<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        print(f.<span class="built_in">read</span>())</span><br><span class="line">    <span class="comment"># 通过for-in循环逐行读取</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">'致橡树.txt'</span>,mode=<span class="string">'r'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">for</span> <span class="built_in">line</span> <span class="keyword">in</span> f:</span><br><span class="line">            print(<span class="built_in">line</span>,<span class="keyword">end</span>=<span class="string">''</span>)</span><br><span class="line">            <span class="built_in">time</span>.sleep(<span class="number">0.5</span>)</span><br><span class="line">    print()</span><br><span class="line">    <span class="comment"># 读取文件按行读取到列表中</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">'致橡树.txt'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">lines</span> = f.readlines()</span><br><span class="line">    print(<span class="keyword">lines</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">   main()</span><br></pre></td></tr></table></figure>
<p>文本信息写入文件文件使用open函数,指定好文件名并将文件模式设置’w’即可。如果需要对文件内容进行追加式写入，应该将模式设置为’a’。如果要写入的文件不存在会自动创建文件而不是引发异常。下面的例子演示了如何将1-9999之间的素数分别写入三个文件中（1-99之间的素数保存在a.txt中，100-999之间的素数保存在b.txt中，1000-9999之间的素数保存在c.txt中）。</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">from math import <span class="built_in">sqrt</span></span><br><span class="line"></span><br><span class="line">def is_prime(n):</span><br><span class="line">    <span class="string">""</span><span class="string">"判断素数"</span><span class="string">""</span></span><br><span class="line">    assert n &gt; <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> factor in <span class="built_in">range</span>(<span class="number">2</span>,<span class="keyword">int</span>(<span class="built_in">sqrt</span>(n)) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> n % factor == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> False</span><br><span class="line">    <span class="keyword">return</span> True <span class="keyword">if</span> n != <span class="number">1</span> <span class="keyword">else</span> False</span><br><span class="line"></span><br><span class="line">def main():</span><br><span class="line">    filenames = (<span class="string">'a.txt'</span>,<span class="string">'b.txt'</span>,<span class="string">'c.txt'</span>)</span><br><span class="line">    fs_list = []</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">for</span> filename in filename<span class="variable">s:</span></span><br><span class="line">            fs_list.<span class="keyword">append</span>(<span class="keyword">open</span>(filename,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>))</span><br><span class="line">        <span class="keyword">for</span> <span class="keyword">number</span> in <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10000</span>):</span><br><span class="line">            <span class="keyword">if</span> is_prime(<span class="keyword">number</span>):</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">number</span> &lt; <span class="number">100</span>:</span><br><span class="line">                    fs_list[<span class="number">0</span>].<span class="keyword">write</span>(str(<span class="keyword">number</span>)+<span class="string">'\n'</span>)</span><br><span class="line">                elif <span class="keyword">number</span> &lt; <span class="number">1000</span>:</span><br><span class="line">                    fs_list[<span class="number">1</span>].<span class="keyword">write</span>(str(<span class="keyword">number</span>) + <span class="string">'\n'</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    fs_list[<span class="number">2</span>].<span class="keyword">write</span>(str(<span class="keyword">number</span>) + <span class="string">'\n'</span>)</span><br><span class="line">    except IOError <span class="keyword">as</span> <span class="keyword">ex</span>:</span><br><span class="line">        <span class="keyword">print</span>(<span class="keyword">ex</span>)</span><br><span class="line">        <span class="keyword">print</span>(<span class="string">'写文件时发生错误！'</span>)</span><br><span class="line">    <span class="keyword">finally</span>:</span><br><span class="line">        <span class="keyword">for</span> fs in fs_lis<span class="variable">t:</span></span><br><span class="line">            fs.<span class="keyword">close</span>()</span><br><span class="line">    <span class="keyword">print</span>(<span class="string">'操作完成！'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="读写二进制文件"><a href="#读写二进制文件" class="headerlink" title="读写二进制文件"></a>读写二进制文件</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">复制图片文件功能</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'guido.jpg'</span>,<span class="string">'rb'</span>) <span class="keyword">as</span> fs1:</span><br><span class="line">            data = fs1.read()</span><br><span class="line">            print(type(data)) <span class="comment">#&lt;class 'bytes'&gt;</span></span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'优秀.jpg'</span>,<span class="string">'wb'</span>) <span class="keyword">as</span> fs2:</span><br><span class="line">            fs2.write(data)</span><br><span class="line">    <span class="keyword">except</span> FileNotFoundError <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">'指定的文件无法打开.'</span>)</span><br><span class="line">    <span class="keyword">except</span> IOError <span class="keyword">as</span> e:</span><br><span class="line">        print(<span class="string">'读写文件时出现错误.'</span>)</span><br><span class="line">    print(<span class="string">'程序执行结束.'</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h2 id="读写JSON-JavaScript-Object-Notation-文件"><a href="#读写JSON-JavaScript-Object-Notation-文件" class="headerlink" title="读写JSON(JavaScript Object Notation)文件"></a>读写JSON(JavaScript Object Notation)文件</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="string">"name"</span>: ’张三‘，</span><br><span class="line">    <span class="string">"age"</span>: <span class="number">35</span>,</span><br><span class="line">    <span class="string">"qq"</span>: <span class="number">957658</span>,</span><br><span class="line">    <span class="string">"friends"</span>: [<span class="string">'王大锤'</span>,<span class="string">'白元芳'</span>],</span><br><span class="line">    <span class="string">"cars"</span>: [</span><br><span class="line">        &#123;<span class="string">"brand"</span>: <span class="string">'BYD'</span>, <span class="string">'max_speed'</span>:<span class="number">180</span>&#125;</span><br><span class="line">        &#123;<span class="string">"brand"</span>: <span class="string">'Audi'</span>,<span class="string">'max_speed'</span>:<span class="number">280</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"brand"</span>: <span class="string">'Benz'</span>,<span class="string">'max_speed'</span>:<span class="number">320</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JSON跟Python中字典其实是一样一样的，事实上JSON的数据类型和Python的数据类型是很容易找到对用关系的</p>
<table>
<thead>
<tr>
<th>JSON</th>
<th>Python</th>
</tr>
</thead>
<tbody><tr>
<td>object</td>
<td>dict</td>
</tr>
<tr>
<td>array</td>
<td>list</td>
</tr>
<tr>
<td>string</td>
<td>str</td>
</tr>
<tr>
<td>number(int/real)</td>
<td>int/float</td>
</tr>
<tr>
<td>true/false</td>
<td>True/False</td>
</tr>
<tr>
<td>null</td>
<td>None</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Python</th>
<th>JSON</th>
</tr>
</thead>
<tbody><tr>
<td>dict</td>
<td>object</td>
</tr>
<tr>
<td>list,tuple</td>
<td>array</td>
</tr>
<tr>
<td>str</td>
<td>string</td>
</tr>
<tr>
<td>int,float,int-&amp;float-derived Enums</td>
<td>number</td>
</tr>
<tr>
<td>True/Flase</td>
<td>true/false</td>
</tr>
<tr>
<td>None</td>
<td>null</td>
</tr>
</tbody></table>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/12/HTTP%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/HTTP%E5%8D%8F%E8%AE%AE/" itemprop="url">HTTP协议</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T20:38:19+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="1-环境"><a href="#1-环境" class="headerlink" title="1.环境"></a>1.环境</h2><h2 id="2-了解WEB"><a href="#2-了解WEB" class="headerlink" title="2.了解WEB"></a>2.了解WEB</h2><p>Web使用一种名为HTTP（HyperText Transfer Protocol，超文本运输协议）的协议作为规范，完成从客户端到服务器端等一系列运作流程。Web是建立在HTTP（TCP/80)协议上通信的。<br>WWW（万维网）这一名称，是Web浏览器当年用来浏览超文本的客户端应用程序时的名称。现在表示这一系列的集合，简称Web</p>
<ul>
<li>页面的文本标记语言<strong>HTML</strong>（HyperText Markup Language,超文本标记语言）</li>
<li>作为文档传递协议的<strong>HTTP</strong></li>
<li>指定文档所在地址的<strong>URL</strong>（Uniform Resource Locator,统一资源定位符）</li>
<li><strong>URI</strong>（Uniform Resource Identifier,统一资源标识符）<br>URI用字符标识某一互联网资源，URL表示资源的地点（互联网上所处的位置）</li>
<li><em>URL是一种具体的URI*</em><br>HTTP/1.1是目前主流的HTTP协议版本</li>
</ul>
<h2 id="3-HTTP协议简介"><a href="#3-HTTP协议简介" class="headerlink" title="3.HTTP协议简介"></a>3.HTTP协议简介</h2><p>客户端和服务器<br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/%E5%AE%A2%E6%88%B7%E7%AB%AF-%E6%9C%8D%E5%8A%A1%E5%99%A8.png" alt="图片"><br>HTTP是不保存状态的协议，目的是为了更快的处理大量事务。不能进行事务的关联。<br>隐含参数和Cookie技术，能协助HTTP解决无状态问题</p>
<h3 id="HTTP-Method-GET"><a href="#HTTP-Method-GET" class="headerlink" title="HTTP Method GET"></a>HTTP Method GET</h3><p>GET：获取资源 </p>
<p>通过URL传<br>请求访问已被URI识别的资源。指定的资源经服务器端解析后返回相应内容。</p>
<p>如果请求的资源是文本，保持原样返回；如果是像CGI（Common Gateway Interface,通用网关借口)那样的程序，返回经过执行后的输出结果。</p>
<h3 id="HTTP-Method-POST"><a href="#HTTP-Method-POST" class="headerlink" title="HTTP Method POST"></a>HTTP Method POST</h3><p>POST：传输实体主体</p>
<p>以下用POST</p>
<ul>
<li>请求中包含数据更新等副作用时</li>
<li>发送敏感信息时（防止Referer安全隐患）</li>
<li>发送的信息量很多时（URL长度有限）</li>
</ul>
<p>副作用：指除了获取资源（内容）以外的其他操作。比如，追加/更新/删除服务器端的数据、购买商品、注册/删除用户等操作。</p>
<h3 id="HTTP-Method-PUT"><a href="#HTTP-Method-PUT" class="headerlink" title="HTTP Method PUT"></a>HTTP Method PUT</h3><p>PUT：传输文件 </p>
<p>存在安全隐患一般文件上传采用POST</p>
<h3 id="HTTP-Method-HEAD"><a href="#HTTP-Method-HEAD" class="headerlink" title="HTTP Method HEAD"></a>HTTP Method HEAD</h3><p>HEAD：获得报文首部</p>
<p>与GET方法一样，只是不返回报文主体部分，用于确认URI的有效性及资源更新的日期时间等。</p>
<h3 id="HTTP-Method-DELETE"><a href="#HTTP-Method-DELETE" class="headerlink" title="HTTP Method DELETE"></a>HTTP Method DELETE</h3><p>用来删除文件，是与PUT相反的的方法。DELETE方法按请求URI删除指定的资源<br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/HTTP%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B9%E6%B3%95.png" alt="图片"></p>
<h3 id="Cookie的工作原理"><a href="#Cookie的工作原理" class="headerlink" title="Cookie的工作原理"></a>Cookie的工作原理</h3><p><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/%E6%B2%A1%E6%9C%89Cookie%E4%BF%A1%E6%81%AF%E4%B8%8B%E8%AF%B7%E6%B1%82.png" alt><br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/%E5%AD%98%E6%9C%89Cookie%E4%BF%A1%E6%81%AF%E4%B8%8B%E8%AF%B7%E6%B1%82.png" alt></p>
<h2 id="4-HTTP报文"><a href="#4-HTTP报文" class="headerlink" title="4.HTTP报文"></a>4.HTTP报文</h2><p>请求端的HTTP报文叫请求报文，响应端的HTTP报文叫响应报文。</p>
<h4 id="请求报文："><a href="#请求报文：" class="headerlink" title="请求报文："></a>请求报文：</h4><ul>
<li>报文首部：<ul>
<li>请求行</li>
<li>请求首部字段</li>
<li>通用首部字段</li>
<li>实体首部字段</li>
<li>其他</li>
</ul>
</li>
<li>空行：</li>
<li>报文主体<br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/%E8%AF%B7%E6%B1%82%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F.png" alt="图片"></li>
</ul>
<h4 id="响应报文："><a href="#响应报文：" class="headerlink" title="响应报文："></a>响应报文：</h4><ul>
<li>报文首部：<ul>
<li>状态行</li>
<li>响应首部字段</li>
<li>通用首部字段</li>
<li>实体首部字段</li>
<li>其他</li>
</ul>
</li>
<li>空行</li>
<li>报文主体<br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/%E5%93%8D%E5%BA%94%E6%8A%A5%E6%96%87%E6%A0%BC%E5%BC%8F.png" alt="图片"></li>
</ul>
<h2 id="5-HTTP状态码"><a href="#5-HTTP状态码" class="headerlink" title="5.HTTP状态码"></a>5.HTTP状态码</h2><p>【功能】：当客户端向服务器发送请求时，描述返回的请求结果。</p>
<table>
<thead>
<tr>
<th></th>
<th>类别</th>
<th>原因短语</th>
</tr>
</thead>
<tbody><tr>
<td>1XX</td>
<td>Informational(信息性状态码）</td>
<td>接收的请求正在处理</td>
</tr>
<tr>
<td>2XX</td>
<td>Success（成功状态码）</td>
<td>请求正常处理完毕</td>
</tr>
<tr>
<td>3XX</td>
<td>Redirection（重定向状态码）</td>
<td>需要进行附加操作以完成请求</td>
</tr>
<tr>
<td>4XX</td>
<td>Client Error（客户端错误状态码）</td>
<td>服务器无法处理请求</td>
</tr>
<tr>
<td>5XX</td>
<td>Server Error（服务器错误状态码）</td>
<td>服务器处理请求出错</td>
</tr>
</tbody></table>
<h4 id="3XX："><a href="#3XX：" class="headerlink" title="3XX："></a>3XX：</h4><ul>
<li>301 Moved Permanently：永久重定向</li>
<li>302 Moved Temporarily：临时重定向 希望用户（本次）能使用新的URI访问</li>
<li>303 See Other：要求用户（用GET定向获取请求的资源）</li>
<li>304 Not Modified：访问页面没有修改</li>
<li>307 Temporary Redirect：希望把POST改为GET</li>
</ul>
<h4 id="4XX："><a href="#4XX：" class="headerlink" title="4XX："></a>4XX：</h4><ul>
<li>400 Bad Request:语法错误等造成错误请求</li>
<li>401 Unauthorized：需要授权认证</li>
<li>403 Forbidden：访问权限不够</li>
<li>404 Not Found：没有找到</li>
</ul>
<h4 id="5XX："><a href="#5XX：" class="headerlink" title="5XX："></a>5XX：</h4><ul>
<li>500 Internal Server Error：服务器端执行请求发生错误</li>
<li>503 Service Unavailable：服务器暂时处于超负载或正在进行停机维护，无法处理请求</li>
</ul>
<h2 id="6-HTTP首部"><a href="#6-HTTP首部" class="headerlink" title="6.HTTP首部"></a>6.HTTP首部</h2><h4 id="HTTP报文首部："><a href="#HTTP报文首部：" class="headerlink" title="HTTP报文首部："></a>HTTP报文首部：</h4><p>通用首部字段：</p>
<table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td>Cache-Control</td>
<td>控制缓存的行为</td>
<td>private,max-age=0,no-cache等</td>
</tr>
<tr>
<td>Connection</td>
<td>逐跳首部、持久连接的管理</td>
<td>Keep-Alive/close</td>
</tr>
<tr>
<td>Date</td>
<td>创建报文的日期时间</td>
<td>Tue,03 Jul 2012 04:40:59 GMT</td>
</tr>
<tr>
<td>Pragma</td>
<td>报文指令</td>
<td></td>
</tr>
<tr>
<td>Trailer</td>
<td>说明报文主体后记录了哪些字段</td>
<td></td>
</tr>
<tr>
<td>Transfer-Encoding</td>
<td>指定报文主体的传输编码方式</td>
<td>chunked等</td>
</tr>
<tr>
<td>Upgrade</td>
<td>升级为其他协议</td>
<td>是否可使用更高的版本进行通讯</td>
</tr>
<tr>
<td>Via</td>
<td>追踪客户端与服务器之间的请求和响应报文的传输路径</td>
<td></td>
</tr>
<tr>
<td>Warning</td>
<td>告知用户一些与缓存有关的警告</td>
<td>[警告码][警告的主机：端口号]“[警告内容]”([日期时间])</td>
</tr>
</tbody></table>
<p>请求首部字段：</p>
<table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td>Accept</td>
<td>用户代理可处理的<strong>媒体类型</strong></td>
<td>type/subtype形式；text/html,text/plain等</td>
</tr>
<tr>
<td>Accept-Charset</td>
<td>优先的<strong>字符集</strong></td>
<td>utf-8等</td>
</tr>
<tr>
<td>Accept-Language</td>
<td>优先的语言</td>
<td>zh-cn等</td>
</tr>
<tr>
<td>Accept-Encoding</td>
<td>优先编码内容</td>
<td>gzip等</td>
</tr>
<tr>
<td>Authorization</td>
<td>通知服务器，用户代理的认证信息</td>
<td>转码认证</td>
</tr>
<tr>
<td>Expect</td>
<td>期待服务器的特定行为</td>
<td>例：100-continue</td>
</tr>
<tr>
<td>From</td>
<td>用户的电子邮箱地址</td>
<td>例：<a href="mailto:info@hacker.jp">info@hacker.jp</a></td>
</tr>
<tr>
<td>Host</td>
<td>请求资源所在服务器</td>
<td>必须包含；例：<a href="http://www.baidu.com" target="_blank" rel="noopener">www.baidu.com</a></td>
</tr>
<tr>
<td>If-Match</td>
<td>条件请求</td>
<td>例：”123456</td>
</tr>
<tr>
<td>If-Modified-Since</td>
<td>比较资源的更新时间</td>
<td></td>
</tr>
<tr>
<td>If–None-Match</td>
<td>比较实体标记（与If-Match相反）</td>
<td></td>
</tr>
<tr>
<td>If-Range</td>
<td>资源未更新时发送实体Byte的范围请求</td>
<td></td>
</tr>
<tr>
<td>If-Unmodified-Since</td>
<td>比较资源的更新时间（与If-Modified-Since相反）</td>
<td></td>
</tr>
<tr>
<td>Max-Forwards</td>
<td>最大传输逐跳数</td>
<td></td>
</tr>
<tr>
<td>Proxy-Authorization</td>
<td>代理服务器要求客户端的认证信息</td>
<td></td>
</tr>
<tr>
<td>Range</td>
<td>实体的字节范围要求</td>
<td></td>
</tr>
<tr>
<td>Referer</td>
<td>对请求URI的原始获取方</td>
<td></td>
</tr>
<tr>
<td>TE</td>
<td>传输编码的优先级</td>
<td></td>
</tr>
<tr>
<td>User-Agent</td>
<td>HTTP客户端程序的信息</td>
<td>系统，浏览器，ip地址</td>
</tr>
<tr>
<td>Cookie</td>
<td>服务器接收到的Cookeie信息</td>
<td></td>
</tr>
</tbody></table>
<p>响应首部字段：</p>
<table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td>Accept-Ranges</td>
<td>是否接受字节范围请求</td>
<td></td>
</tr>
<tr>
<td>Age</td>
<td>推算资源创建经过时间</td>
<td>例：600</td>
</tr>
<tr>
<td>ETag</td>
<td>客户端实体标示</td>
<td></td>
</tr>
<tr>
<td>Location</td>
<td>令客户端重定向至URI</td>
<td>重定向目的地</td>
</tr>
<tr>
<td>Prox-Authenticate</td>
<td>代理服务器对客户端的认证信息</td>
<td></td>
</tr>
<tr>
<td>Retry-After</td>
<td>对再次发起请求的时机要求</td>
<td></td>
</tr>
<tr>
<td>Server</td>
<td>HTTP服务器的安装信息</td>
<td>具有安全隐患</td>
</tr>
<tr>
<td>Vary</td>
<td>代理服务器缓存的管理信息</td>
<td></td>
</tr>
<tr>
<td>WWW-Authenticate</td>
<td>服务器对客户端的认证信息</td>
<td>访问认证</td>
</tr>
<tr>
<td>Set-Cookie</td>
<td>开始状态管理所使用的Cookie信息</td>
<td>NAME=VALUE；expires=DATE；path=PATH；domain=域名；Secure；HttpOnly</td>
</tr>
</tbody></table>
<p>实体首部字段：</p>
<table>
<thead>
<tr>
<th>首部字段名</th>
<th>说明</th>
<th>参数</th>
</tr>
</thead>
<tbody><tr>
<td>Allow</td>
<td>资源可支持的HTTP方法</td>
<td>GET等</td>
</tr>
<tr>
<td>Content-Encoding</td>
<td>实体主体适用的编码方式</td>
<td>gzip等</td>
</tr>
<tr>
<td>Content-Language</td>
<td>实体主体的自然语言</td>
<td>zh-cn等</td>
</tr>
<tr>
<td>Content-Length</td>
<td>实体主体的大小（单位：字节）</td>
<td>15000等</td>
</tr>
<tr>
<td>Content-Location</td>
<td>替代对应资源的URI</td>
<td></td>
</tr>
<tr>
<td>Content-MD5</td>
<td>实体主体的报文摘要</td>
<td></td>
</tr>
<tr>
<td>Content-Range</td>
<td>实体主体的位置范围</td>
<td></td>
</tr>
<tr>
<td>Content-Type</td>
<td>实体主体的媒体类型</td>
<td></td>
</tr>
<tr>
<td>Expires</td>
<td>实体主体过期的日期时间</td>
<td></td>
</tr>
<tr>
<td>Last-Modified</td>
<td>资源的最后修改日期时间</td>
<td></td>
</tr>
</tbody></table>
<p>HTTP首部字段是由首部字段名和字段值构成的</p>
<ul>
<li>Content-Type: 报文主体对象的类型</li>
<li>Keep-Alive：</li>
</ul>
<h2 id="7-HTTPS协议简介"><a href="#7-HTTPS协议简介" class="headerlink" title="7.HTTPS协议简介"></a>7.HTTPS协议简介</h2><h3 id="缺点："><a href="#缺点：" class="headerlink" title="缺点："></a>缺点：</h3><ul>
<li>通讯使用明文（不加密），内容可能会被窃听</li>
<li>不验证通信方的身份，因此有可能遭遇伪装</li>
<li>无法证明报文的完整性，所以有可能已遭篡改</li>
</ul>
<p>HTTP+加密+认证+完整性保护=HTTPS<br><img src="../images/HTTP%E5%8D%8F%E8%AE%AE/HTTPS%E9%80%9A%E8%AE%AF%E8%BF%87%E7%A8%8B.jpg" alt="图片"></p>
<h2 id="8-HTTP的认证"><a href="#8-HTTP的认证" class="headerlink" title="8.HTTP的认证"></a>8.HTTP的认证</h2><ul>
<li>BASIC认证（基本认证）</li>
<li>DIGEST认证（摘要认证）</li>
<li>SSL客户端认证</li>
<li>FormBase认证（基于表单认证）</li>
<li>Windows统一认证（Keberos认证，NTLM认证）</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/12/Linux%E4%BD%BF%E7%94%A8%E7%A8%8B%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Ran-Barry">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hello">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/02/12/Linux%E4%BD%BF%E7%94%A8%E7%A8%8B%E5%BA%8F/" itemprop="url">Linux使用程序</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-02-12T20:32:30+08:00">
                2020-02-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%AD%A6%E4%B9%A0/" itemprop="url" rel="index">
                    <span itemprop="name">Linux学习</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="文件和文件夹操作"><a href="#文件和文件夹操作" class="headerlink" title="文件和文件夹操作"></a>文件和文件夹操作</h2><h3 id="1-创建-删除空目录-mkdir-rmdir"><a href="#1-创建-删除空目录-mkdir-rmdir" class="headerlink" title="1.创建/删除空目录 - mkdir/rmdir"></a>1.创建/删除空目录 - <strong>mkdir/rmdir</strong></h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root ~</span>]<span class="meta"># mkdir abc</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># mkdir -p xyz/abc</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># rmdir abc</span></span><br></pre></td></tr></table></figure>

<h3 id="2-创建-删除文件-touch-rm"><a href="#2-创建-删除文件-touch-rm" class="headerlink" title="2.创建/删除文件 - **touch/rm"></a>2.创建/删除文件 - **touch/rm</h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root ~</span>]<span class="meta"># touch readme.txt</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># touch <span class="meta-keyword">error</span>.txt</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># rm <span class="meta-keyword">error</span>.txt</span></span><br><span class="line">rm: <span class="keyword">remove</span> regular empty file ‘error.txt’? y</span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># rm -rf xyz</span></span><br></pre></td></tr></table></figure>

<ul>
<li>touch命令用于创建空白文件或修改文件时间。在Linux系统中一个文件有三种时间：<ul>
<li>更改内容的时间 - mtime</li>
<li>更改权限的时间呢 - ctime</li>
<li>最后访问时间 - atime</li>
</ul>
</li>
<li>rm的几个重要参数<ul>
<li>-i: 交互式删除，每个删除项都会进行询问</li>
<li>-r：删除目录并递归的删除目录中的文件和目录</li>
<li>-f：强制删除，忽略不存在的文件，没有任何提示</li>
</ul>
</li>
</ul>
<h3 id="3-切换和查看当前工作目录-cd-pwd"><a href="#3-切换和查看当前工作目录-cd-pwd" class="headerlink" title="3.切换和查看当前工作目录 - cd/pwd"></a>3.切换和查看当前工作目录 - <strong>cd/pwd</strong></h3><p>说明：</p>
<blockquote>
<p>cd命令后面可以跟相对路径（以当前路径作为参照）或绝对路径（以/开关）来切换到指定的目录，也可以用cd .. 来返回上一级目录。请大家想一想，如果要返回到上上一级目录应该给cd命令加上什么样的参数呢？</p>
</blockquote>
<h3 id="4-查看目录内容-ls"><a href="#4-查看目录内容-ls" class="headerlink" title="4.查看目录内容 - ls"></a>4.查看目录内容 - <strong>ls</strong></h3><ul>
<li>-l：以长格式查看文件和目录</li>
<li>-a：显示以点开头的文件和目录（隐藏文件）</li>
<li>-R：遇到目录要进行递归展开（继续列出目录下面的文件和目录）</li>
<li>-d：只列出目录，不列出其他内容</li>
<li>-s/-t：按大小/时间排序</li>
</ul>
<blockquote>
<p>ls -l 可以简写为ll</p>
</blockquote>
<h3 id="5-查看文件内容-cat-tac-head-tail-more-less-rev-od"><a href="#5-查看文件内容-cat-tac-head-tail-more-less-rev-od" class="headerlink" title="5.查看文件内容 - cat/tac/head/tail/more/less/rev/od"></a>5.查看文件内容 - <strong>cat/tac/head/tail/more/less/rev/od</strong></h3><ul>
<li>cat: 由第一行开始显示内容，并将所有内容输出</li>
<li>tac: 从最后一行倒序显示内容，并将所有内容输出</li>
<li>rev：从每一行的最后一个字符显示到第一个字符</li>
<li>head：只显示头几行</li>
<li>tail：只显示后几行</li>
<li>more：根据窗口大小，一页一页的显示文件内容</li>
<li>less：和more类似，但其优点可以往前翻页，而且进行可以搜索字符</li>
<li>od：以八进制、十进制、十六进制和ASCII码的格式来显示文件或者流<ul>
<li>od [-A 地址进制] [-t 显示格式] 文件名</li>
<li>-A 指定地址进制包括：<ul>
<li>o:八进制（系统默认值）</li>
<li>d：十进制</li>
<li>x：十六进制</li>
<li>n：不打印位移值</li>
</ul>
</li>
<li>-t：指定数据的显示格式的主要参数有：<ul>
<li>c：ASCII字符或反斜杠序列（如\n）</li>
<li>d：有符号十进制数</li>
<li>f：浮点数</li>
<li>o：八进制（系统默认值）</li>
<li>u：无符号十进制数</li>
<li>x：十六进制数</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="6-拷贝-移动文件-cp-mv"><a href="#6-拷贝-移动文件-cp-mv" class="headerlink" title="6.拷贝/移动文件 - cp/mv"></a>6.拷贝/移动文件 - <strong>cp/mv</strong></h3><figure class="highlight cs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[<span class="meta">root ~</span>]<span class="meta"># mkdir backup</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># cp sohu.html backup/</span></span><br><span class="line">[<span class="meta">root ~</span>]<span class="meta"># cd backup</span></span><br><span class="line">[<span class="meta">root backup</span>]<span class="meta"># ls</span></span><br><span class="line">sohu.html</span><br><span class="line">[<span class="meta">root backup</span>]<span class="meta"># mv sohu.html sohu_index.html</span></span><br><span class="line">[<span class="meta">root backup</span>]<span class="meta"># ls</span></span><br><span class="line">sohu_index.html</span><br></pre></td></tr></table></figure>

<h3 id="7-文件重命名-rename"><a href="#7-文件重命名-rename" class="headerlink" title="7.文件重命名 - rename"></a>7.文件重命名 - <strong>rename</strong></h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[root@iZwz97tbgo9lkabnat2lo8Z ~]</span># <span class="selector-tag">rename</span> <span class="selector-class">.htm</span> <span class="selector-class">.html</span> *<span class="selector-class">.htm</span></span><br></pre></td></tr></table></figure>
<h3 id="8-查找文件和查找内容-find-grep"><a href="#8-查找文件和查找内容-find-grep" class="headerlink" title="8.查找文件和查找内容 - find/grep"></a>8.查找文件和查找内容 - <strong>find/grep</strong></h3><p>【find】：find 路径 参数 文件名<br>参数：</p>
<ul>
<li>-name：根据文件名查找</li>
<li>-perm：根据文件权限查找</li>
<li>-prune：该选项可以排除某些查找目录</li>
<li>-user：根据文件属主查找</li>
<li>-group：根据文件属组查找</li>
<li>-mtime -n | +n 根据文件更改时间查找</li>
<li>-type：根据文件类型查找、<ul>
<li>-f: 文件</li>
<li>-d：目录</li>
<li>-c：字符设备文件</li>
<li>-b：块设备文件</li>
<li>-l：链接文件</li>
<li>-p：管道文件</li>
</ul>
</li>
<li>-size -n +n 按文件大小查找<br>【grep】：grep [选项] [文本] 文件<blockquote>
<p>说明：grep在搜索字符串时可以使用正则表达式，如果需要使用正则表达式可以用grep -E 或直接使用egrep</p>
</blockquote>
</li>
</ul>
<h3 id="9-创建链接和查看链接-ln-readlink"><a href="#9-创建链接和查看链接-ln-readlink" class="headerlink" title="9.创建链接和查看链接 -ln/readlink"></a>9.创建链接和查看链接 -<strong>ln/readlink</strong></h3><p>软链接：</p>
<ul>
<li>存放另一个文件的路径的形式</li>
<li>可以跨文件系统，硬链接不可以</li>
<li>可以对一个不存在的文件名进行链接，硬链接必须有源文件</li>
<li>可以对目录进行链接</li>
</ul>
<p>硬链接：</p>
<ul>
<li>以文本副本的形式存在，不占用实际空间</li>
<li>不允许给目录创建硬链接</li>
<li>只有在同一个文件系统中才能创建</li>
<li>删除其中一个硬链接文件并不影响其他有相同inode号的文件</li>
</ul>
<blockquote>
<p>【ln】：[参数] [源文件目录] [目标文件或目录]</p>
</blockquote>
<p>主要参数：</p>
<ul>
<li>-i:交互模式，文件存在则提示用户是否覆盖</li>
<li>-s 软链接（符号链接）</li>
<li>-d 允许超级用户制作目录的硬链接</li>
<li>-b 删除，覆盖以前建立的链接</li>
</ul>
<h3 id="10-压缩-解压缩和归档-解归档-gzip-gunzip-xz"><a href="#10-压缩-解压缩和归档-解归档-gzip-gunzip-xz" class="headerlink" title="10.压缩/解压缩和归档/解归档 - gzip/gunzip/xz"></a>10.压缩/解压缩和归档/解归档 - <strong>gzip/gunzip/xz</strong></h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>iZwz97tbgo9lkabnat2lo8Z ~]# wget http:<span class="comment">//download.redis.io/releases/redis-4.0.10.tar.gz</span></span><br><span class="line">-<span class="number">-2018</span><span class="number">-06</span><span class="number">-20</span> <span class="number">19</span>:<span class="number">29</span>:<span class="number">59</span>--  http:<span class="comment">//download.redis.io/releases/redis-4.0.10.tar.gz</span></span><br><span class="line">Resolving download.redis.io (download.redis.io)... <span class="number">109.74</span><span class="number">.203</span><span class="number">.151</span></span><br><span class="line">Connecting to download.redis.io (download.redis.io)|<span class="number">109.74</span><span class="number">.203</span><span class="number">.151</span>|:<span class="number">80.</span>.. connected.</span><br><span class="line">HTTP request sent, awaiting response... <span class="number">200</span> OK</span><br><span class="line">Length: <span class="number">1738465</span> (<span class="number">1.7</span>M) [application/x-gzip]</span><br><span class="line">Saving to: ‘redis<span class="number">-4.0</span><span class="number">.10</span>.tar.gz’</span><br><span class="line"><span class="number">100</span>%[==================================================&gt;] <span class="number">1</span>,<span class="number">738</span>,<span class="number">465</span>   <span class="number">70.1</span>KB/s   <span class="keyword">in</span> <span class="number">74</span>s</span><br><span class="line"><span class="number">2018</span><span class="number">-06</span><span class="number">-20</span> <span class="number">19</span>:<span class="number">31</span>:<span class="number">14</span> (<span class="number">22.9</span> KB/s) - ‘redis<span class="number">-4.0</span><span class="number">.10</span>.tar.gz’ saved [<span class="number">1738465</span>/<span class="number">1738465</span>]</span><br><span class="line">[<span class="symbol">root@</span>iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>.tar.gz</span><br><span class="line">[<span class="symbol">root@</span>iZwz97tbgo9lkabnat2lo8Z ~]# gunzip redis<span class="number">-4.0</span><span class="number">.10</span>.tar.gz</span><br><span class="line">[<span class="symbol">root@</span>iZwz97tbgo9lkabnat2lo8Z ~]# ls redis*</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>.tar</span><br></pre></td></tr></table></figure>

<h3 id="11-归档和解归档-tar"><a href="#11-归档和解归档-tar" class="headerlink" title="11.归档和解归档 - tar"></a>11.归档和解归档 - <strong>tar</strong></h3><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[<span class="symbol">root@</span>iZwz97tbgo9lkabnat2lo8Z ~]# tar -xvf redis<span class="number">-4.0</span><span class="number">.10</span>.tar</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/.gitignore</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/<span class="number">00</span>-RELEASENOTES</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/BUGS</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/CONTRIBUTING</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/COPYING</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/INSTALL</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/MANIFESTO</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/Makefile</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/README.md</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/deps/</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/deps/Makefile</span><br><span class="line">redis<span class="number">-4.0</span><span class="number">.10</span>/deps/README.md</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：归档（也称为创建归档）和解归档都使用tar命令，通常创建归档需要-cvf三个参数，其中c表示创建（create），v表示显示创建归档详情（verbose），f表示指定归档的文件（file）；解归档需要加上-xvf参数，其中x表示抽取（extract），其他两个参数跟创建归档相同。</p>
</blockquote>
<h3 id="12-将标准输入转成命令行参数-xargs"><a href="#12-将标准输入转成命令行参数-xargs" class="headerlink" title="12.将标准输入转成命令行参数 - xargs"></a>12.将标准输入转成命令行参数 - <strong>xargs</strong></h3><p>下面的命令会将查找当前路径下的html文件，然后通过xargs将这些文件作为参数传给rm命令，实现查找并删除文件的操作</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz97tbgo9lkabnat2lo8Z ~]# find . -<span class="keyword">type</span> <span class="type">f </span>-name <span class="string">"*.html"</span> | xargs rm -f</span><br></pre></td></tr></table></figure>

<p>下面的命令讲a.txt文件中的多行内容变成一行输出到b.txt文件中，其中&lt;表示从a.txt中读取输入，&gt;表示讲命令的执行结果输出到b.txt中</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz97tbgo9lkabnat2lo8Z ~]<span class="comment"># xargs &lt; a.txt &gt; b.txt</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>说明：这个命令就像上面演示的那样常在管道（实现进程间通信的一种方式）和重定向（重新指定输入输出的位置）操作中用到，后面的内容中会讲到管道操作和输入输出重定向操作。</p>
</blockquote>
<h3 id="13-显示文件或目录-basename-dirname"><a href="#13-显示文件或目录-basename-dirname" class="headerlink" title="13.显示文件或目录 - basename/dirname"></a>13.显示文件或目录 - <strong>basename/dirname</strong></h3><h3 id="14-其他相关工具"><a href="#14-其他相关工具" class="headerlink" title="14.其他相关工具"></a>14.其他相关工具</h3><ul>
<li>sort - 对内容排序</li>
<li>uniq - 去掉相邻重复内容</li>
<li>tr - 替换指定内容为新内容</li>
<li>cut/paste - 剪切/粘贴内容</li>
<li>split - 拆分文件</li>
<li>file - 判断文件类型</li>
<li>wc - 统计文件行数、单词数、字节数</li>
<li>iconv - 编码转换</li>
</ul>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[root ~]# cat foo.txt</span><br><span class="line">grape</span><br><span class="line">apple</span><br><span class="line">pitaya</span><br><span class="line">[root ~]# cat bar.txt</span><br><span class="line"><span class="number">100</span></span><br><span class="line"><span class="number">200</span></span><br><span class="line"><span class="number">300</span></span><br><span class="line"><span class="number">400</span></span><br><span class="line">[root ~]# paste foo.txt bar.txt</span><br><span class="line">grape   <span class="number">100</span></span><br><span class="line">apple   <span class="number">200</span></span><br><span class="line">pitaya  <span class="number">300</span></span><br><span class="line">        <span class="number">400</span></span><br><span class="line">[root ~]# paste foo.txt bar.txt &gt; hello.txt</span><br><span class="line">[root ~]# cut -b <span class="number">4</span><span class="number">-8</span> hello.txt</span><br><span class="line">pe      <span class="number">10</span></span><br><span class="line">le      <span class="number">20</span></span><br><span class="line">aya     <span class="number">3</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line">[root ~]# cat hello.txt | tr <span class="string">'\t'</span> <span class="string">','</span></span><br><span class="line">grape,<span class="number">100</span></span><br><span class="line">apple,<span class="number">200</span></span><br><span class="line">pitaya,<span class="number">300</span></span><br><span class="line">,<span class="number">400</span></span><br><span class="line">[root ~]# split -l <span class="number">100</span> sohu.html hello</span><br><span class="line">[root ~]# wget https:<span class="comment">//www.baidu.com/img/bd_logo1.png</span></span><br><span class="line">[root ~]# file bd_logo1.png</span><br><span class="line">bd_logo1.png: PNG image data, <span class="number">540</span> x <span class="number">258</span>, <span class="number">8</span>-bit colormap, non-<span class="built_in">int</span>erlaced</span><br><span class="line">[root ~]# wc sohu.html</span><br><span class="line">  <span class="number">2979</span>   <span class="number">6355</span> <span class="number">212527</span> sohu.html</span><br><span class="line">[root ~]# wc -l sohu.html</span><br><span class="line"><span class="number">2979</span> sohu.html</span><br><span class="line">[root ~]# wget http:<span class="comment">//www.qq.com -O qq.html</span></span><br><span class="line">[root ~]# iconv -f gb2312 -t utf<span class="number">-8</span> qq.html</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-angle-right&quot;&gt;&lt;&#x2F;i&gt;</a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Ran-Barry</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives%7C%7C%20archive">
              
                  <span class="site-state-item-count">19</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">7</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/Ran-Barry" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ran-Barry</span>

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      本站访客数<i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      人次
    </span>
  

  
    <span class="site-pv">
      本站总访问量<i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      次
    </span>
  
</div>








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
