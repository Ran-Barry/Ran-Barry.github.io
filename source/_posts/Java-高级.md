---
title: Java-高级
date: 2021-10-19 16:44:14
tags: 编程
---

## 面向对象编程

### 类变量和类方法

#### 类变量

类变量也叫静态变量，是该类的所有对象共享的变量，任何一个该类的对象去访问它时，取到的都是相同的值，同样任何一个该类的对象去修改它时，修改的也是同一个变量

1. static(静态)变量是同一个类所有对象共享
2. sataic类变量在类加载的时候就生成

定义语法：
访问修饰符 static 数据类型 变量名（推荐）
static 访问修饰符 数据类型 变量名

#### 类变量与实例变量的区别

类变量是该类的所有对象共享的，而实例变量是每个对象独享的

#### 类方法

类方法也叫静态方法
静态方法使用时可以直接使用

1. 类方法和普通方法都是随着类的加载而加载，将结构信息存储在方法区：类方法中无this的参数，普通方法中隐含着this的参数
2. 类方法可以通过类名调用，也可以通过对象名调用
3. 普通方法和对象有关，需要通过对象名调用
4. 类方法中不允许使用和对象有关的关键字，比如this和super。普通方法可以
5. 静态方法中只能访问静态变量或静态方法
6. 普通成员方法，既可以访问非静态成员，也可以访问静态成员
7. 静态方法可以被继承，但不能被重写

### 理解main方法语法

1. main方法是java虚拟机调用
2. java虚拟机需要调用类的main()方法，所以该方法的访问权限必须是public
3. java虚拟机在执行main()方法时不必创建对象，所以该方法必须是static
4. 该方法接收String类型的数组参数，该数组中保存执行java命令时传递给所运行的类的参数
5. java 执行的程序 参数1 参数2 参数3
6. 在main()方法中，可以直接调用main方法所在类的静态方法或静态属性
7. 不能直接访问该类中的非静态成员，必须创建该类的一个实例对象后，才能通过这个对象去访问类中的非静态成员

### 代码块

又称为初始化块，属于类中的成员，类似于方法，将逻辑语句封装在方法体中，通过{}包围起来
但和方法不同，没有方法名，没有返回，没有参数，只有方法体，而且不用通过对象或类显式调用，而是加载类时，或创建对象时隐式调用

基本语法
[修饰符]{
    代码
};

#### 代码块的好处

1. 相当于另外一种形式的构造器，可以做初始化的操作
2. 代码块调用顺序优先于构造器

#### 细节讨论

1. static代码块也叫静态代码块，作用就是对类进行初始化，而且它随着类的加载而执行，并且只会执行一次，如果是普通代码块，每创建一个对象，就执行
2. 类什么时候被加载
   1. 创建对象实例时
   2. 创建子类对象实例，父类也会被加载
   3. 使用类的静态成员时
3. 普通的代码块，在创建对象实例时，会被隐式的调用。被创建一次，就会调用一次。如果只是使用类的静态成员时，普通代码块并不会执行
4. 创建一个对象时，在一个类调用顺序时
   1. 调用静态代码块和静态属性初始化（两个优先级一样，按定义顺序调用）
   2. 调用普通代码块和普通属性的初始化（两个优先级一样，按定义顺序调用）
   3. 调用构造方法
5. 构造器的最前面其实隐含了super()和调用普通代码块，在类加载时，就执行完毕
6. 创建一个子类时，它们的静态代码块，静态属性初始化，普通代码块，普通属性初始化，构造方法的调用顺序
   1. 父类的静态代码块和静态属性（优先级一样，按定义顺序）
   2. 子类的静态代码块和静态属性（优先级一样，按定义顺序）
   3. 父类的普通代码块和普通属性初始化（优先级一样，按定义顺序）
   4. 父类的构造方法
   5. 子类的普通代码块和普通属性初始化
   6. 子类的构造方法
7. 静态代码块只能调用静态成员，普通代码块可以调用任意成员

### 单例设计模式

### final关键字

### 抽象类

### 接口

### 内部类